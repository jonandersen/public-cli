{"id":"public-cli-0h0","title":"TUI portfolio: Total Value missing, Day P/L may be incorrect","description":"Account Summary section has display issues:\n\n1. **Total Value shows '$' with no amount** - the value is completely missing\n2. **Day P/L may be incorrect** - showing -$0.41 but needs verification\n\nScreenshot shows:\n- Total Value: $ (empty)\n- Cash: $45.03\n- Day P/L: -$0.41\n- Buying Power: $45.03\n- Options BP: $45.03\n\nLikely issue: Total Value field not being populated from API response or wrong field being read.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-11T19:12:11.28783-05:00","created_by":"jonandersen","updated_at":"2026-01-11T19:27:35.637276-05:00","closed_at":"2026-01-11T19:27:35.637276-05:00","close_reason":"Fixed by summing all equity components (STOCK + CASH + CRYPTO) instead of looking for non-existent TOTAL type"}
{"id":"public-cli-0i2","title":"Order Command","description":"Place and manage orders: buy, sell, limit orders, order status. Requires confirmation before execution.\n\n**API Reference:** See API.md - Order Placement section\n- POST /userapigateway/trading/{accountId}/order - Place order\n- GET /userapigateway/trading/{accountId}/order/{orderId} - Check status\n- DELETE /userapigateway/trading/{accountId}/order/{orderId} - Cancel order","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-10T19:57:52.213255-05:00","created_by":"jonandersen","updated_at":"2026-01-11T16:39:50.857547-05:00","closed_at":"2026-01-11T16:39:50.857547-05:00","close_reason":"All subtasks complete: order placement, status checking, and limit/stop orders implemented","dependencies":[{"issue_id":"public-cli-0i2","depends_on_id":"public-cli-dc9","type":"blocks","created_at":"2026-01-10T19:58:37.31205-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-0i2.1","title":"Implement order placement with confirmation","description":"Implement order placement with interactive confirmation.\n\n**IMPORTANT:** Check `config.CheckTrading()` before placing any order. Return `config.ErrTradingDisabled` if trading is not enabled. This prevents agents from placing orders without explicit permission.\n\n**API Reference:** See API.md - Place Order section\n- Endpoint: POST /userapigateway/trading/{accountId}/order\n- Required: orderId (UUID), instrument, orderSide (BUY/SELL), orderType, expiration, quantity or amount\n- Order is async - poll GET /order/{orderId} for status\n\n**Implementation:**\n- pub order buy AAPL --quantity 10\n- pub order sell AAPL --quantity 5\n- Show order preview before confirmation\n- Generate UUID for orderId\n- Display order confirmation with orderId","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T19:57:54.989672-05:00","created_by":"jonandersen","updated_at":"2026-01-11T15:53:00.906311-05:00","closed_at":"2026-01-11T15:53:00.906311-05:00","close_reason":"Implemented order buy/sell with confirmation, tests passing","dependencies":[{"issue_id":"public-cli-0i2.1","depends_on_id":"public-cli-0i2","type":"parent-child","created_at":"2026-01-10T19:57:54.991804-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-0i2.2","title":"Add order status checking","description":"Check order status by orderId.\n\n**API Reference:** See API.md - Get Order section\n- Endpoint: GET /userapigateway/trading/{accountId}/order/{orderId}\n- Status values: NEW, PARTIALLY_FILLED, FILLED, CANCELLED, REJECTED, EXPIRED\n- May return 404 if indexing hasn't completed\n\n**Implementation:**\n- pub order status \u003corderId\u003e\n- Display: status, filledQuantity, averagePrice, timestamps\n- Support --json output flag","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T19:57:55.07153-05:00","created_by":"jonandersen","updated_at":"2026-01-11T16:19:21.145534-05:00","closed_at":"2026-01-11T16:19:21.145534-05:00","close_reason":"Implemented order status command with tests","dependencies":[{"issue_id":"public-cli-0i2.2","depends_on_id":"public-cli-0i2","type":"parent-child","created_at":"2026-01-10T19:57:55.072194-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-0i2.3","title":"Support limit orders","description":"Support limit orders with price specification.\n\n**IMPORTANT:** Check `config.CheckTrading()` before placing any order. Return `config.ErrTradingDisabled` if trading is not enabled. This prevents agents from placing orders without explicit permission.\n\n**API Reference:** See API.md - Place Order section\n- orderType: MARKET, LIMIT, STOP, STOP_LIMIT\n- limitPrice required for LIMIT/STOP_LIMIT orders\n- stopPrice required for STOP/STOP_LIMIT orders\n- expiration: DAY, GTC, GTD\n\n**Implementation:**\n- pub order buy AAPL --quantity 10 --limit 150.00\n- pub order sell AAPL --quantity 5 --stop 145.00\n- Validate required prices based on order type","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T19:57:55.152228-05:00","created_by":"jonandersen","updated_at":"2026-01-11T16:36:02.207688-05:00","closed_at":"2026-01-11T16:36:02.207688-05:00","close_reason":"Implemented limit/stop/stop-limit orders with expiration flag","dependencies":[{"issue_id":"public-cli-0i2.3","depends_on_id":"public-cli-0i2","type":"parent-child","created_at":"2026-01-10T19:57:55.152824-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-104","title":"Implement reusable asset selector component","description":"Create a reusable asset selector component for the TUI that:\n- Allows searching/filtering assets\n- Shows asset type (stock/ETF) and optionability status\n- Can be embedded in Options and Trading views\n- Queries instruments API to check if asset has options available","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-12T19:43:28.899034-05:00","created_by":"jonandersen","updated_at":"2026-01-12T19:43:28.899034-05:00"}
{"id":"public-cli-1ac","title":"Implement Options API methods in publicapi","description":"Implement options-related methods in pkg/publicapi/options.go:\n\nMethods to implement:\n- GetExpirations(ctx, accountID, symbol) (*OptionExpirationsResponse, error)\n- GetChain(ctx, accountID, symbol, expiration) (*OptionChainResponse, error)\n- GetGreeks(ctx, accountID, symbols []string) (*GreeksResponse, error)\n- MultilegPreflight(ctx, accountID, req MultilegPreflightRequest) (*MultilegPreflightResponse, error)\n- PlaceMultilegOrder(ctx, accountID, req MultilegOrderRequest) (*MultilegOrderResponse, error)\n\nConsolidates logic from cmd/options.go.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T22:21:08.60151-05:00","created_by":"jonandersen","updated_at":"2026-01-11T22:21:08.60151-05:00","dependencies":[{"issue_id":"public-cli-1ac","depends_on_id":"public-cli-aow","type":"blocks","created_at":"2026-01-11T22:21:50.269432-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-1bw","title":"TUI account switcher in toolbar","description":"Add account selector to the TUI header/toolbar area:\n\n**Requirements:**\n- Display current active account in the toolbar (truncated account ID or account type)\n- Allow switching between accounts via keyboard shortcut or dropdown\n- Fetch available accounts from API on startup\n- Persist selected account for the session\n- Update all views (portfolio, orders, trade) when account changes\n\n**UI considerations:**\n- Show in header near the view tabs\n- Keyboard shortcut (e.g., 'a' for account) to open account picker\n- Visual indicator of which account is active\n\n**Implementation notes:**\n- Use existing /userapigateway/trading/account endpoint to list accounts\n- Store selected accountId in Model state\n- Trigger data refresh when account changes","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-11T19:27:44.246577-05:00","created_by":"jonandersen","updated_at":"2026-01-11T22:10:09.972868-05:00","closed_at":"2026-01-11T22:10:09.972868-05:00","close_reason":"Implemented account switcher in TUI toolbar"}
{"id":"public-cli-1is","title":"Add shared API client with auto token refresh for all commands","description":"Currently only cmd/account.go has the token refresher wired up. We need to:\n\n1. Create a shared/centralized way to create an API client with token refresh configured\n2. Options to explore:\n   - Helper function in cmd/ that creates a pre-configured client\n   - Shared options struct that all commands embed\n   - Factory pattern that takes store + config and returns ready-to-use client\n\nCurrent pattern (repeated in every command):\n```go\nstore := keyring.NewEnvStore(keyring.NewSystemStore())\ntoken, err := getAuthToken(store, cfg.APIBaseURL, false)\nclient := api.NewClient(opts.baseURL, opts.authToken).WithTokenRefresher(func() (string, error) {\n    return getAuthToken(store, cfg.APIBaseURL, true)\n})\n```\n\nIdeal pattern:\n```go\nclient := api.NewClientWithAuth(cfg, store) // handles token + refresh internally\n```\n\nCommands to update:\n- cmd/quote.go\n- cmd/order.go\n- cmd/options.go\n- cmd/history.go\n- cmd/instrument.go\n- cmd/instruments.go\n- internal/tui/*.go (portfolio, watchlist, orders, trade, tui)\n\nDepends on: public-cli-96f (token caching fix)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T23:18:02.04462-05:00","created_by":"jonandersen","updated_at":"2026-01-11T23:18:02.04462-05:00"}
{"id":"public-cli-1y2","title":"Cleanup: Remove internal/api after publicapi migration","description":"After all CLI and TUI code has been migrated to use pkg/publicapi:\n\n1. Remove internal/api/client.go - now redundant\n2. Consider absorbing internal/auth into pkg/publicapi or keeping it internal\n3. Update any remaining imports\n4. Run tests to ensure nothing breaks\n\nThis is the final cleanup step after full migration.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-11T22:21:34.176162-05:00","created_by":"jonandersen","updated_at":"2026-01-11T22:21:34.176162-05:00","dependencies":[{"issue_id":"public-cli-1y2","depends_on_id":"public-cli-5hk","type":"blocks","created_at":"2026-01-11T22:21:51.384886-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-1y2","depends_on_id":"public-cli-uoe","type":"blocks","created_at":"2026-01-11T22:21:51.445642-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-2ix","title":"Options Chain Trading \u0026 Greeks in TUI","description":"Add options chain viewing, trading, and Greeks display to the TUI. Includes a reusable asset selector component that can be used across Options and Trading screens. Must check instruments API for optionable assets.","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-12T19:43:13.532028-05:00","created_by":"jonandersen","updated_at":"2026-01-12T19:43:13.532028-05:00"}
{"id":"public-cli-36c","title":"Output Formatting","description":"Table and JSON output formatting. Default is human-readable tables, --json flag for machine-readable output.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-10T19:57:30.915212-05:00","created_by":"jonandersen","updated_at":"2026-01-11T07:47:52.391167-05:00","closed_at":"2026-01-11T07:47:52.391167-05:00","close_reason":"Closed","dependencies":[{"issue_id":"public-cli-36c","depends_on_id":"public-cli-v85","type":"blocks","created_at":"2026-01-10T19:58:36.991302-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-36c.1","title":"Implement table formatting for terminal output","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T19:57:35.107277-05:00","created_by":"jonandersen","updated_at":"2026-01-11T07:47:52.393594-05:00","closed_at":"2026-01-11T07:47:52.393594-05:00","close_reason":"Closed","dependencies":[{"issue_id":"public-cli-36c.1","depends_on_id":"public-cli-36c","type":"parent-child","created_at":"2026-01-10T19:57:35.107884-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-36c.2","title":"Add --json flag support for all commands","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T19:57:35.31894-05:00","created_by":"jonandersen","updated_at":"2026-01-11T07:47:52.395019-05:00","closed_at":"2026-01-11T07:47:52.395019-05:00","close_reason":"Closed","dependencies":[{"issue_id":"public-cli-36c.2","depends_on_id":"public-cli-36c","type":"parent-child","created_at":"2026-01-10T19:57:35.319596-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-40p","title":"Use default account from config when --account flag not provided","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T12:20:19.3861-05:00","created_by":"jonandersen","updated_at":"2026-01-11T12:23:53.818017-05:00","closed_at":"2026-01-11T12:23:53.818017-05:00","close_reason":"Closed"}
{"id":"public-cli-4om","title":"Enhance configure command with account selection and management options","description":"Improve the configure command with:\n\n1. **Initial setup enhancement**: After configuring the secret key, optionally fetch accounts and let user select a default account\n\n2. **Reconfigure menu**: When configure is run on an already-configured system, show a menu with options:\n   - Select different default account\n   - Configure new secret key\n   - Clear stored secret\n   - View current configuration\n\nThis makes the configure command a one-stop shop for all authentication and account management.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-11T11:40:46.845455-05:00","created_by":"jonandersen","updated_at":"2026-01-11T12:17:40.4153-05:00","closed_at":"2026-01-11T12:17:40.4153-05:00","close_reason":"Closed"}
{"id":"public-cli-4om.1","title":"Add account selection after initial configure","description":"After successfully configuring the secret key, fetch available accounts and optionally let user select a default account to store in config.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T11:41:37.262102-05:00","created_by":"jonandersen","updated_at":"2026-01-11T12:17:40.408826-05:00","closed_at":"2026-01-11T12:17:40.408826-05:00","close_reason":"Closed","dependencies":[{"issue_id":"public-cli-4om.1","depends_on_id":"public-cli-4om","type":"parent-child","created_at":"2026-01-11T11:41:37.265161-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-4om.2","title":"Add reconfigure menu when already configured","description":"When configure is run and a secret already exists, show a menu instead of overwriting. Menu should present options for account selection, new secret, clear secret, view config.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T11:41:37.452196-05:00","created_by":"jonandersen","updated_at":"2026-01-11T12:17:40.410993-05:00","closed_at":"2026-01-11T12:17:40.410993-05:00","close_reason":"Closed","dependencies":[{"issue_id":"public-cli-4om.2","depends_on_id":"public-cli-4om","type":"parent-child","created_at":"2026-01-11T11:41:37.452869-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-4om.3","title":"Implement clear secret option","description":"Add ability to clear/remove the stored secret key from the system keyring.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T11:41:37.636465-05:00","created_by":"jonandersen","updated_at":"2026-01-11T12:17:40.412455-05:00","closed_at":"2026-01-11T12:17:40.412455-05:00","close_reason":"Closed","dependencies":[{"issue_id":"public-cli-4om.3","depends_on_id":"public-cli-4om","type":"parent-child","created_at":"2026-01-11T11:41:37.637203-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-4om.4","title":"Implement view current configuration option","description":"Add ability to view current configuration: default account, API base URL, whether secret is configured (not the secret itself).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T11:41:37.829197-05:00","created_by":"jonandersen","updated_at":"2026-01-11T12:17:40.413835-05:00","closed_at":"2026-01-11T12:17:40.413835-05:00","close_reason":"Closed","dependencies":[{"issue_id":"public-cli-4om.4","depends_on_id":"public-cli-4om","type":"parent-child","created_at":"2026-01-11T11:41:37.830009-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-5da","title":"Add instruments API client for options availability","description":"Add API client methods to check instruments endpoint for:\n- Whether an asset has options available\n- Available expiration dates\n- Strike prices for a given expiry","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-12T19:43:29.079821-05:00","created_by":"jonandersen","updated_at":"2026-01-12T19:43:29.079821-05:00"}
{"id":"public-cli-5hk","title":"Update CLI commands to use publicapi client","description":"After all API methods are implemented, update CLI commands to use pkg/publicapi instead of making direct HTTP calls:\n\nFiles to update:\n- cmd/account.go: Use client.GetAccounts(), client.GetPortfolio()\n- cmd/quote.go: Use client.GetQuotes()\n- cmd/order.go: Use client.PlaceOrder(), client.CancelOrder(), etc.\n- cmd/options.go: Use client.GetExpirations(), client.GetChain(), etc.\n- cmd/instrument.go: Use client.GetInstrument()\n- cmd/instruments.go: Use client.ListInstruments()\n- cmd/history.go: Use client.GetHistory()\n\nEach command should become a thin wrapper:\n1. Parse flags\n2. Create publicapi.Client\n3. Call API method\n4. Format output\n\nThis dramatically reduces cmd/ complexity and eliminates duplicate HTTP handling code.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T22:21:27.494998-05:00","created_by":"jonandersen","updated_at":"2026-01-11T22:21:27.494998-05:00","dependencies":[{"issue_id":"public-cli-5hk","depends_on_id":"public-cli-msh","type":"blocks","created_at":"2026-01-11T22:21:50.500247-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-5hk","depends_on_id":"public-cli-cpc","type":"blocks","created_at":"2026-01-11T22:21:50.559604-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-5hk","depends_on_id":"public-cli-ygp","type":"blocks","created_at":"2026-01-11T22:21:50.618987-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-5hk","depends_on_id":"public-cli-1ac","type":"blocks","created_at":"2026-01-11T22:21:50.68001-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-5hk","depends_on_id":"public-cli-a8l","type":"blocks","created_at":"2026-01-11T22:21:50.741242-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-68m","title":"Create pkg/publicapi package structure","description":"Create the pkg/publicapi/ directory structure and scaffold files:\n- client.go: Client struct with TokenProvider pattern\n- types.go: Empty file ready for domain types\n- errors.go: API error types\n- helpers.go: Shared utilities\n\nThis is the foundation ticket - all other migrations depend on it.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T22:20:39.181838-05:00","created_by":"jonandersen","updated_at":"2026-01-11T22:20:39.181838-05:00"}
{"id":"public-cli-6nq","title":"Makefile fmt target fails when goimports not installed","description":"## Problem\n\nRunning `make all` or `make fmt` fails with:\n\n```\nmake: goimports: No such file or directory\nmake: *** [fmt] Error 1\n```\n\nThis happens when `goimports` is not installed or not in PATH.\n\n## Suggested Fix\n\nThe Makefile should either:\n1. Check for required tools and provide helpful error messages\n2. Auto-install missing tools (e.g., `go install golang.org/x/tools/cmd/goimports@latest`)\n3. Document required tools in README\n\n## Workaround\n\nInstall goimports manually:\n```bash\ngo install golang.org/x/tools/cmd/goimports@latest\n```\n\nThen ensure `~/go/bin` is in your PATH.","status":"closed","priority":3,"issue_type":"bug","created_at":"2026-01-11T00:00:16.214954-05:00","created_by":"jonandersen","updated_at":"2026-01-11T07:39:51.254995-05:00","closed_at":"2026-01-11T07:39:51.254995-05:00","close_reason":"Fixed by adding goimports as a tool dependency in go.mod and using 'go tool goimports' in Makefile"}
{"id":"public-cli-72e","title":"Add interactive prompt for secret key input","description":"Configure command changes:\n1. Remove --secret flag entirely (security risk - visible in ps/history)\n2. Always prompt interactively for secret key (no-echo input using golang.org/x/term)\n3. Keep --account flag as optional\n\nImplementation:\n- Use term.ReadPassword() for hidden input\n- Check term.IsTerminal() to ensure interactive terminal\n- Error if not interactive (can't pipe secrets without flag)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T23:38:31.917593-05:00","created_by":"jonandersen","updated_at":"2026-01-10T23:53:09.668957-05:00","closed_at":"2026-01-10T23:53:09.668957-05:00","close_reason":"Implemented interactive prompt with term.ReadPassword()"}
{"id":"public-cli-79w","title":"Fix go.mod module path to match GitHub repo URL","description":"Change module path from github.com/jonandersen/pub to github.com/jonandersen/public-cli for consistency. This will enable 'go install' to work properly.\n\nTasks:\n- Update go.mod module declaration\n- Update all internal imports (~20-30 files)\n- Update .goreleaser.yaml ldflags\n- Re-add 'go install' section to README","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-01-11T22:23:30.811119-05:00","created_by":"jonandersen","updated_at":"2026-01-12T19:43:30.124876-05:00"}
{"id":"public-cli-7a1","title":"Secret Storage (Keyring)","description":"Secure credential storage using zalando/go-keyring with env var fallback for CI/headless environments. TDD approach.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-10T19:57:30.175799-05:00","created_by":"jonandersen","updated_at":"2026-01-10T20:53:21.17499-05:00","closed_at":"2026-01-10T20:53:21.17499-05:00","close_reason":"All subtasks complete: keyring abstraction, env var fallback, and mock for testing","dependencies":[{"issue_id":"public-cli-7a1","depends_on_id":"public-cli-v85","type":"blocks","created_at":"2026-01-10T19:58:36.73645-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-7a1.1","title":"Implement keyring abstraction layer with tests","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T19:57:35.879804-05:00","created_by":"jonandersen","updated_at":"2026-01-10T20:13:53.238276-05:00","closed_at":"2026-01-10T20:13:53.238276-05:00","close_reason":"Implemented SystemStore with go-keyring wrapper, Store interface, ErrNotFound, and 5 passing tests","dependencies":[{"issue_id":"public-cli-7a1.1","depends_on_id":"public-cli-7a1","type":"parent-child","created_at":"2026-01-10T19:57:35.880396-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-7a1.2","title":"Add PUB_SECRET_KEY env var fallback for CI","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T19:57:36.076862-05:00","created_by":"jonandersen","updated_at":"2026-01-10T20:36:45.283307-05:00","closed_at":"2026-01-10T20:36:45.283307-05:00","close_reason":"Closed","dependencies":[{"issue_id":"public-cli-7a1.2","depends_on_id":"public-cli-7a1","type":"parent-child","created_at":"2026-01-10T19:57:36.077406-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-7a1.3","title":"Implement mock keyring for testing","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T19:57:36.266784-05:00","created_by":"jonandersen","updated_at":"2026-01-10T20:53:10.758689-05:00","closed_at":"2026-01-10T20:53:10.758689-05:00","close_reason":"Added exportable MockStore with fluent helpers","dependencies":[{"issue_id":"public-cli-7a1.3","depends_on_id":"public-cli-7a1","type":"parent-child","created_at":"2026-01-10T19:57:36.267357-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-884","title":"Remove duplicate types from internal/tui/types.go","description":"After all domain types are moved to pkg/publicapi/types.go, remove the 16 duplicate type definitions from internal/tui/types.go:\n\n- Portfolio, BuyingPower, Equity, Position, Instrument, Price, Gain, CostBasis\n- QuoteRequest, QuoteInstrument, QuotesResponse, Quote\n- Order, OrdersResponse\n- Account, AccountsResponse\n\nReplace with imports from pkg/publicapi.\n\nThis ticket depends on all 'Move X domain types' tickets being complete.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T22:20:56.084616-05:00","created_by":"jonandersen","updated_at":"2026-01-11T22:20:56.084616-05:00","dependencies":[{"issue_id":"public-cli-884","depends_on_id":"public-cli-8o2","type":"blocks","created_at":"2026-01-11T22:21:49.658108-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-884","depends_on_id":"public-cli-crh","type":"blocks","created_at":"2026-01-11T22:21:49.718275-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-884","depends_on_id":"public-cli-llk","type":"blocks","created_at":"2026-01-11T22:21:49.779529-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-884","depends_on_id":"public-cli-aow","type":"blocks","created_at":"2026-01-11T22:21:49.839467-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-884","depends_on_id":"public-cli-iq8","type":"blocks","created_at":"2026-01-11T22:21:49.901826-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-8o2","title":"Move Account domain types to publicapi","description":"Move 10 account-related types from cmd/account.go to pkg/publicapi/types.go:\n- Account (line 28)\n- AccountsResponse (line 37)\n- Portfolio (line 42)\n- BuyingPower (line 51)\n- Equity (line 58)\n- Position (line 65)\n- Instrument (line 77)\n- Price (line 84)\n- Gain (line 90)\n- CostBasis (line 97)\n\nUpdate imports in cmd/account.go and internal/tui/ to use new location.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T22:20:39.363588-05:00","created_by":"jonandersen","updated_at":"2026-01-11T22:20:39.363588-05:00","dependencies":[{"issue_id":"public-cli-8o2","depends_on_id":"public-cli-68m","type":"blocks","created_at":"2026-01-11T22:21:49.187956-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-8on","title":"Fix configure command: token exchange sends empty request body","description":"When running 'pub configure', token validation fails with:\n\nError: failed to validate secret key: token exchange failed: 400 - {\"code\":40,\"header\":null,\"message\":\"Malformed JSON request\",\"errors\":[\"Required request body is missing: public com.hellopublic.userapiauthservice.api.personal.CreateAccessTokenResponse com.hellopublic.userapiauthservice.api.rest.personal.PublicPersonalAccessTokenController.createPersonalAccessToken(com.hellopublic.userapiauthservice.api.personal.CreateAccessTokenRequest)\"],\"payload\":null}\n\nThe error indicates the request body is either missing or not being sent correctly to the /userapiauthservice/personal/access-tokens endpoint.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-10T23:56:24.091204-05:00","created_by":"jonandersen","updated_at":"2026-01-11T00:05:02.193084-05:00","closed_at":"2026-01-11T00:05:02.193084-05:00","close_reason":"Fixed token exchange to use correct API format"}
{"id":"public-cli-96f","title":"Fix: Enable token caching in auth flow","description":"FINDING: The auth.GetToken() function with smart caching exists but is NEVER used.\n\nCurrent behavior (wasteful):\n- Every command calls auth.ExchangeToken() directly\n- Every execution makes fresh API call to exchange secret for token\n- Token is valid 60 minutes but discarded immediately\n\nLocation of unused caching:\n- internal/auth/provider.go:12-28 - GetToken() with cache logic\n- internal/auth/cache.go - SaveToken(), LoadToken(), TokenCachePath()\n\nLocation of direct calls (should use GetToken instead):\n- cmd/account.go:311 - auth.ExchangeToken()\n- internal/tui/helpers.go:84 - auth.ExchangeToken()\n\nFix:\n- Change getAuthToken() helpers to use auth.GetToken() instead of auth.ExchangeToken()\n- This is a quick fix that provides immediate benefit before the full API refactor\n\nImpact: Reduces API calls from 1 per command to ~1 per hour.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-11T22:21:27.871587-05:00","created_by":"jonandersen","updated_at":"2026-01-11T23:18:07.615239-05:00","closed_at":"2026-01-11T23:18:07.615239-05:00","close_reason":"Fixed: Token caching now works. Added GetTokenWithRefresh to auth package, and API client auto-retries on 401 with fresh token. Only cmd/account.go has full implementation - see public-cli-1is for rollout to all commands."}
{"id":"public-cli-9g8","title":"Implement Options tab with chain view","description":"Add new Options tab to TUI with:\n- Asset selector integration\n- Options chain display (calls/puts grid)\n- Expiry date selector\n- Strike price navigation","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-12T19:43:29.26491-05:00","created_by":"jonandersen","updated_at":"2026-01-12T19:43:29.26491-05:00"}
{"id":"public-cli-9pf","title":"Configuration System","description":"Config module for loading/saving ~/.config/pub/config.yaml with XDG support. TDD approach - write tests first.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-10T19:57:30.937923-05:00","created_by":"jonandersen","updated_at":"2026-01-10T20:33:20.459751-05:00","closed_at":"2026-01-10T20:33:20.459751-05:00","close_reason":"Closed","dependencies":[{"issue_id":"public-cli-9pf","depends_on_id":"public-cli-v85","type":"blocks","created_at":"2026-01-10T19:58:36.673909-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-9pf.1","title":"Implement config file loading/saving with tests","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T19:57:35.541504-05:00","created_by":"jonandersen","updated_at":"2026-01-10T20:09:19.312912-05:00","closed_at":"2026-01-10T20:09:19.312912-05:00","close_reason":"Implemented Load/Save with 7 passing tests and 76% coverage","dependencies":[{"issue_id":"public-cli-9pf.1","depends_on_id":"public-cli-9pf","type":"parent-child","created_at":"2026-01-10T19:57:35.542045-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-9pf.2","title":"Add XDG_CONFIG_HOME path resolution","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T19:57:35.727363-05:00","created_by":"jonandersen","updated_at":"2026-01-10T20:10:18.595456-05:00","closed_at":"2026-01-10T20:10:18.595456-05:00","close_reason":"Implemented ConfigDir and ConfigPath with XDG_CONFIG_HOME support, 4 new passing tests","dependencies":[{"issue_id":"public-cli-9pf.2","depends_on_id":"public-cli-9pf","type":"parent-child","created_at":"2026-01-10T19:57:35.727946-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-9pf.3","title":"Add config validation","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T19:57:35.91597-05:00","created_by":"jonandersen","updated_at":"2026-01-10T20:30:32.565568-05:00","closed_at":"2026-01-10T20:30:32.565568-05:00","close_reason":"Closed","dependencies":[{"issue_id":"public-cli-9pf.3","depends_on_id":"public-cli-9pf","type":"parent-child","created_at":"2026-01-10T19:57:35.916565-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-a8l","title":"Implement Instruments and History API methods in publicapi","description":"Implement remaining API methods:\n\nIn pkg/publicapi/instruments.go:\n- GetInstrument(ctx, symbol, instrumentType) (*InstrumentResponse, error)\n- ListInstruments(ctx, typeFilter, tradingFilter) ([]InstrumentResponse, error)\n\nIn pkg/publicapi/history.go:\n- GetHistory(ctx, accountID, start, end, pageSize) (*HistoryResponse, error)\n\nConsolidates logic from cmd/instrument.go, cmd/instruments.go, cmd/history.go.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T22:21:08.788456-05:00","created_by":"jonandersen","updated_at":"2026-01-11T22:21:08.788456-05:00","dependencies":[{"issue_id":"public-cli-a8l","depends_on_id":"public-cli-iq8","type":"blocks","created_at":"2026-01-11T22:21:50.329174-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-aor","title":"Move shared helper functions to publicapi","description":"Move duplicated helper functions to pkg/publicapi/helpers.go:\n\nFunctions to move:\n- formatGainLoss() - from cmd/account.go:288 and internal/tui/helpers.go:14\n- formatVolume() - from cmd/quote.go:159 and internal/tui/helpers.go:29\n- getAuthToken() - consolidate from cmd/account.go:299 and internal/tui/helpers.go:72\n\nThis eliminates code duplication between cmd/ and internal/tui/.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T22:21:28.058419-05:00","created_by":"jonandersen","updated_at":"2026-01-11T22:21:28.058419-05:00"}
{"id":"public-cli-aow","title":"Move Options domain types to publicapi","description":"Move 19 options-related types from cmd/options.go to pkg/publicapi/types.go:\n- OptionExpirationsRequest (line 29)\n- OptionInstrument (line 34)\n- OptionExpirationsResponse (line 40)\n- OptionChainRequest (line 46)\n- OptionChainResponse (line 52)\n- OptionQuote (line 59)\n- GreeksResponse (line 72)\n- OptionGreeks (line 77)\n- GreeksData (line 83)\n- MultilegPreflightRequest (line 93)\n- MultilegExpiration (line 102)\n- MultilegLeg (line 107)\n- MultilegInstrument (line 115)\n- MultilegPreflightResponse (line 121)\n- MultilegPreflightLeg (line 137)\n- MultilegRegulatoryFees (line 145)\n- MultilegPriceIncrement (line 155)\n- MultilegOrderRequest (line 162)\n- MultilegOrderResponse (line 172)\n\nUpdate imports in cmd/options.go.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T22:20:55.734238-05:00","created_by":"jonandersen","updated_at":"2026-01-11T22:20:55.734238-05:00","dependencies":[{"issue_id":"public-cli-aow","depends_on_id":"public-cli-68m","type":"blocks","created_at":"2026-01-11T22:21:49.400924-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-apt","title":"Integrate asset selector into Trading view","description":"Add the reusable asset selector to the existing Trading view so users can select assets before placing orders.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-12T19:43:29.637286-05:00","created_by":"jonandersen","updated_at":"2026-01-12T19:43:29.637286-05:00"}
{"id":"public-cli-bhr","title":"Add preflight call to show estimated cost before order confirmation","description":"Call POST /userapigateway/trading/{accountId}/preflight/single-leg before order confirmation to show the user estimated cost, commission, regulatory fees, and buying power requirement. Part of Order Command epic (public-cli-0i2).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T15:51:55.363162-05:00","created_by":"jonandersen","updated_at":"2026-01-11T16:49:27.403992-05:00","closed_at":"2026-01-11T16:49:27.403992-05:00","close_reason":"Implemented preflight API call showing estimated cost, commission, fees, and helpful error messages"}
{"id":"public-cli-c4q","title":"API Client","description":"HTTP client with automatic auth header injection, error handling, and retry logic. Uses httptest for testing.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-10T19:57:29.709798-05:00","created_by":"jonandersen","updated_at":"2026-01-11T07:41:36.852132-05:00","closed_at":"2026-01-11T07:41:36.852132-05:00","close_reason":"All subtasks complete: HTTP client, error handling, and integration tests","dependencies":[{"issue_id":"public-cli-c4q","depends_on_id":"public-cli-vv4","type":"blocks","created_at":"2026-01-10T19:58:36.927798-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-c4q.1","title":"Implement HTTP client with auth header injection","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T19:57:34.823652-05:00","created_by":"jonandersen","updated_at":"2026-01-10T23:26:09.634013-05:00","closed_at":"2026-01-10T23:26:09.634013-05:00","close_reason":"Implemented HTTP client with Get/Post/Delete methods, auth header injection, 93% test coverage","dependencies":[{"issue_id":"public-cli-c4q.1","depends_on_id":"public-cli-c4q","type":"parent-child","created_at":"2026-01-10T19:57:34.824378-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-c4q.2","title":"Add API error handling and response parsing","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T19:57:35.023006-05:00","created_by":"jonandersen","updated_at":"2026-01-10T23:29:40.749163-05:00","closed_at":"2026-01-10T23:29:40.749163-05:00","close_reason":"Added APIError type, CheckResponse, DecodeJSON with 97.5% coverage","dependencies":[{"issue_id":"public-cli-c4q.2","depends_on_id":"public-cli-c4q","type":"parent-child","created_at":"2026-01-10T19:57:35.023638-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-c4q.3","title":"Write comprehensive integration tests","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T19:57:35.20843-05:00","created_by":"jonandersen","updated_at":"2026-01-11T07:41:28.484579-05:00","closed_at":"2026-01-11T07:41:28.484579-05:00","close_reason":"Closed","dependencies":[{"issue_id":"public-cli-c4q.3","depends_on_id":"public-cli-c4q","type":"parent-child","created_at":"2026-01-10T19:57:35.209068-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-cpc","title":"Implement Quotes API methods in publicapi","description":"Implement quote-related methods in pkg/publicapi/quotes.go:\n\nMethods to implement:\n- GetQuotes(ctx, accountID, symbols []QuoteInstrument) ([]Quote, error)\n\nConsolidates logic currently in:\n- cmd/quote.go:88-156 (quote command)\n- internal/tui/watchlist.go:310-380 (FetchWatchlistQuotes)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T22:21:08.206345-05:00","created_by":"jonandersen","updated_at":"2026-01-11T22:21:08.206345-05:00","dependencies":[{"issue_id":"public-cli-cpc","depends_on_id":"public-cli-crh","type":"blocks","created_at":"2026-01-11T22:21:50.146001-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-crh","title":"Move Quote domain types to publicapi","description":"Move 4 quote-related types from cmd/quote.go to pkg/publicapi/types.go:\n- QuoteRequest (line 29)\n- QuoteInstrument (line 34)\n- QuotesResponse (line 40)\n- Quote (line 45)\n\nUpdate imports in cmd/quote.go and internal/tui/ to use new location.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T22:20:39.546016-05:00","created_by":"jonandersen","updated_at":"2026-01-11T22:20:39.546016-05:00","dependencies":[{"issue_id":"public-cli-crh","depends_on_id":"public-cli-68m","type":"blocks","created_at":"2026-01-11T22:21:49.25132-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-d7g","title":"TUI watchlist shows 'Loading quotes...' instead of empty state on first open","description":"When opening the watchlist view for the first time (no symbols added yet), the UI shows 'Loading quotes...' indefinitely instead of displaying an empty state message prompting the user to add symbols.\n\n**Expected behavior:** Show empty state message (e.g., 'No symbols in watchlist. Press 'a' to add a symbol.')\n\n**Actual behavior:** Shows 'Loading quotes...' which never resolves\n\n**Possible cause:** May fail to load watchlist config file when it doesn't exist yet, or the empty list case isn't handled before triggering the quote loading state.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-11T17:05:50.823983-05:00","created_by":"jonandersen","updated_at":"2026-01-11T19:09:08.426927-05:00","closed_at":"2026-01-11T19:09:08.426927-05:00","close_reason":"Fixed by initializing empty watchlist in loaded state"}
{"id":"public-cli-dc9","title":"Configure Command","description":"First-time setup: prompt for secret key, validate credentials, store in keyring. Entry point for new users.\n\n**API Reference:** See API.md - Authentication section\n- Token exchange: POST /userapiauthservice/personal/access-tokens\n- User generates secret key at public.com/settings/security/api\n- Secret exchanged for short-lived access token (JWT)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-10T19:57:31.853324-05:00","created_by":"jonandersen","updated_at":"2026-01-11T07:50:06.902607-05:00","closed_at":"2026-01-11T07:50:06.902607-05:00","close_reason":"Configure command fully implemented with credential validation, keyring storage, and interactive prompts. All tests pass.","dependencies":[{"issue_id":"public-cli-dc9","depends_on_id":"public-cli-c4q","type":"blocks","created_at":"2026-01-10T19:58:37.054981-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-dc9","depends_on_id":"public-cli-36c","type":"blocks","created_at":"2026-01-10T19:58:37.119576-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-dc9.1","title":"Implement 'pub configure' with credential validation","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T19:57:35.98933-05:00","created_by":"jonandersen","updated_at":"2026-01-10T23:32:49.473236-05:00","closed_at":"2026-01-10T23:32:49.473236-05:00","close_reason":"Implemented configure command with --secret and --account flags, credential validation, keyring storage","dependencies":[{"issue_id":"public-cli-dc9.1","depends_on_id":"public-cli-dc9","type":"parent-child","created_at":"2026-01-10T19:57:35.98991-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-dg5","title":"Quote Command","description":"Get stock/ETF quotes. Support single and multiple symbols.\n\n**API Reference:** See API.md - Market Data section\n- Endpoint: POST /userapigateway/marketdata/{accountId}/quotes\n- Supports EQUITY, OPTION, and INDEX instrument types","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-10T19:57:45.800976-05:00","created_by":"jonandersen","updated_at":"2026-01-11T08:01:42.603907-05:00","closed_at":"2026-01-11T08:01:42.603907-05:00","close_reason":"Closed","dependencies":[{"issue_id":"public-cli-dg5","depends_on_id":"public-cli-dc9","type":"blocks","created_at":"2026-01-10T19:58:37.248977-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-dg5.1","title":"Implement 'pub quote' for single and multiple symbols","description":"Implement the quote command for fetching real-time market quotes.\n\n**API Reference:** See API.md - Get Quotes section\n- Endpoint: POST /userapigateway/marketdata/{accountId}/quotes\n- Request: Array of instruments with symbol and type\n- Response: quotes array with last, bid, ask, volume, timestamps\n\n**Implementation:**\n- Accept one or more symbols as arguments\n- Default to EQUITY type\n- Display: symbol, last price, bid/ask, volume\n- Support --json output flag","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T19:57:48.288008-05:00","created_by":"jonandersen","updated_at":"2026-01-11T08:01:42.602093-05:00","closed_at":"2026-01-11T08:01:42.602093-05:00","close_reason":"Closed","dependencies":[{"issue_id":"public-cli-dg5.1","depends_on_id":"public-cli-dg5","type":"parent-child","created_at":"2026-01-10T19:57:48.290542-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-di0","title":"Account Command","description":"View accounts, portfolio, positions, and balances. Core user functionality.\n\n**API Reference:** See API.md - Accounts \u0026 Portfolio sections\n- GET /userapigateway/trading/account - List accounts\n- GET /userapigateway/trading/{accountId}/portfolio/v2 - Portfolio snapshot","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-10T19:57:38.432152-05:00","created_by":"jonandersen","updated_at":"2026-01-11T07:55:53.308193-05:00","closed_at":"2026-01-11T07:55:53.308193-05:00","close_reason":"Account command implemented with list and portfolio subcommands","dependencies":[{"issue_id":"public-cli-di0","depends_on_id":"public-cli-dc9","type":"blocks","created_at":"2026-01-10T19:58:37.184221-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-di0.1","title":"Implement 'pub account' list view","description":"Implement account listing command.\n\n**API Reference:** See API.md - Get Accounts section\n- Endpoint: GET /userapigateway/trading/account\n- Response: accounts array with accountId, accountType, optionsLevel, brokerageAccountType, tradePermissions\n\n**Implementation:**\n- Display all accounts with key info\n- Show accountType (BROKERAGE, IRA, etc.)\n- Show tradePermissions status\n- Support --json output flag","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T19:57:42.112444-05:00","created_by":"jonandersen","updated_at":"2026-01-11T07:55:53.310426-05:00","closed_at":"2026-01-11T07:55:53.310426-05:00","close_reason":"Account command implemented with list and portfolio subcommands","dependencies":[{"issue_id":"public-cli-di0.1","depends_on_id":"public-cli-di0","type":"parent-child","created_at":"2026-01-10T19:57:42.114886-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-di0.2","title":"Add portfolio/positions display","description":"Display portfolio positions and balances.\n\n**API Reference:** See API.md - Get Account Portfolio section\n- Endpoint: GET /userapigateway/trading/{accountId}/portfolio/v2\n- Response: buyingPower, equity breakdown, positions array, open orders\n\n**Implementation:**\n- Show buying power and cash balances\n- List positions with symbol, quantity, current value, unrealized gain\n- Show daily gain/loss\n- Support --json output flag","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T19:57:42.19972-05:00","created_by":"jonandersen","updated_at":"2026-01-11T07:55:53.311779-05:00","closed_at":"2026-01-11T07:55:53.311779-05:00","close_reason":"Account command implemented with list and portfolio subcommands","dependencies":[{"issue_id":"public-cli-di0.2","depends_on_id":"public-cli-di0","type":"parent-child","created_at":"2026-01-10T19:57:42.200381-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-e17","title":"Implement 'pub instruments' command","description":"List all available instruments.\n\n**API:** https://public.com/api/docs/resources/instrument-details/get-all-instruments\n\n**First step:** Fetch and document the API spec before implementing.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-11T19:16:12.50238-05:00","created_by":"jonandersen","updated_at":"2026-01-11T19:28:14.934824-05:00","closed_at":"2026-01-11T19:28:14.934824-05:00","close_reason":"Closed"}
{"id":"public-cli-egg","title":"Implement 'pub order list' to show open orders","description":"Add 'pub order list' command to display open orders from the portfolio API.\n\nThe portfolio endpoint (GET /userapigateway/trading/{accountId}/portfolio/v2) returns an 'orders' array with open orders. This command should:\n- Fetch and display open orders in a table format\n- Support --json flag for machine-readable output\n- Show order ID, symbol, side, type, quantity, status\n- Enable the workflow: list orders -\u003e find order ID -\u003e cancel order","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T16:11:15.125655-05:00","created_by":"jonandersen","updated_at":"2026-01-11T16:24:18.914027-05:00","closed_at":"2026-01-11T16:24:18.914027-05:00","close_reason":"Implemented pub order list command"}
{"id":"public-cli-ha5","title":"TUI - Interactive Terminal UI","description":"Add interactive terminal UI mode via 'pub ui' command. Uses bubbletea/lipgloss for a full-screen experience with live data, keyboard navigation, and views for portfolio, watchlist, orders, and trading.","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-11T16:30:12.211505-05:00","created_by":"jonandersen","updated_at":"2026-01-11T16:30:12.211505-05:00"}
{"id":"public-cli-ha5.1","title":"TUI core setup - bubbletea scaffolding and main model","description":"Set up the TUI foundation:\n- Add bubbletea, lipgloss, bubbles dependencies\n- Create cmd/ui.go with 'pub ui' command\n- Implement main Model struct with Init/Update/View\n- Add basic app shell with header, content area, footer\n- Keyboard quit handler (esc/q)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-11T16:30:30.382938-05:00","created_by":"jonandersen","updated_at":"2026-01-11T16:39:20.812638-05:00","closed_at":"2026-01-11T16:39:20.812638-05:00","close_reason":"Closed","dependencies":[{"issue_id":"public-cli-ha5.1","depends_on_id":"public-cli-ha5","type":"parent-child","created_at":"2026-01-11T16:30:30.385832-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-ha5.2","title":"TUI portfolio view - positions table and account summary","description":"Implement the main portfolio dashboard:\n- Account summary header (total value, cash, day P/L)\n- Positions table with symbol, qty, price, value, change\n- Row selection with arrow keys\n- Auto-refresh with configurable interval\n- Loading states and error handling","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T16:30:30.570748-05:00","created_by":"jonandersen","updated_at":"2026-01-11T16:49:40.731842-05:00","closed_at":"2026-01-11T16:49:40.731842-05:00","close_reason":"Closed","dependencies":[{"issue_id":"public-cli-ha5.2","depends_on_id":"public-cli-ha5","type":"parent-child","created_at":"2026-01-11T16:30:30.57153-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-ha5.2","depends_on_id":"public-cli-ha5.1","type":"blocks","created_at":"2026-01-11T16:30:37.529926-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-ha5.3","title":"TUI watchlist view - add/remove symbols with live quotes","description":"Implement watchlist functionality:\n- Display watched symbols with live quotes\n- Add symbol dialog (text input)\n- Delete symbol with confirmation\n- Persist watchlist to config file\n- Jump to trade from selected symbol","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T16:30:30.756564-05:00","created_by":"jonandersen","updated_at":"2026-01-11T17:02:19.374985-05:00","closed_at":"2026-01-11T17:02:19.374985-05:00","close_reason":"Closed","dependencies":[{"issue_id":"public-cli-ha5.3","depends_on_id":"public-cli-ha5","type":"parent-child","created_at":"2026-01-11T16:30:30.757304-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-ha5.3","depends_on_id":"public-cli-ha5.1","type":"blocks","created_at":"2026-01-11T16:30:37.590875-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-ha5.4","title":"TUI orders view - list open orders and cancel","description":"Implement orders management view:\n- Table of open/pending orders\n- Order details on selection\n- Cancel order with confirmation dialog\n- Refresh orders list\n- Show order status updates","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T16:30:30.943672-05:00","created_by":"jonandersen","updated_at":"2026-01-11T18:50:54.095205-05:00","closed_at":"2026-01-11T18:50:54.095205-05:00","close_reason":"Closed","dependencies":[{"issue_id":"public-cli-ha5.4","depends_on_id":"public-cli-ha5","type":"parent-child","created_at":"2026-01-11T16:30:30.944325-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-ha5.4","depends_on_id":"public-cli-ha5.1","type":"blocks","created_at":"2026-01-11T16:30:37.649464-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-ha5.5","title":"TUI trade screen - buy/sell form with confirmation","description":"Implement trading interface:\n- Symbol input with validation\n- Buy/Sell toggle\n- Market/Limit order type selection\n- Quantity input\n- Limit price input (when limit selected)\n- Estimated cost calculation\n- Order preview/confirmation modal\n- Submit order and show result","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T16:30:31.133223-05:00","created_by":"jonandersen","updated_at":"2026-01-11T19:23:09.340251-05:00","closed_at":"2026-01-11T19:23:09.340251-05:00","close_reason":"Implemented trade screen with form, confirmation modal, and order submission","dependencies":[{"issue_id":"public-cli-ha5.5","depends_on_id":"public-cli-ha5","type":"parent-child","created_at":"2026-01-11T16:30:31.133864-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-ha5.5","depends_on_id":"public-cli-ha5.1","type":"blocks","created_at":"2026-01-11T16:30:37.709543-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-ha5.6","title":"TUI quote lookup - quick symbol search popup","description":"Implement quick quote lookup:\n- Keyboard shortcut to open (q)\n- Symbol text input\n- Display quote details (price, change, volume, day range)\n- Option to add to watchlist\n- Option to trade from quote view","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-11T16:30:31.323026-05:00","created_by":"jonandersen","updated_at":"2026-01-11T16:30:31.323026-05:00","dependencies":[{"issue_id":"public-cli-ha5.6","depends_on_id":"public-cli-ha5","type":"parent-child","created_at":"2026-01-11T16:30:31.323761-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-ha5.6","depends_on_id":"public-cli-ha5.1","type":"blocks","created_at":"2026-01-11T16:30:37.769225-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-ha5.7","title":"TUI keyboard navigation and help overlay","description":"Implement navigation and help:\n- Global keyboard shortcuts (p/w/o/t/q/?)\n- Tab navigation within forms\n- Help overlay showing all shortcuts\n- Consistent navigation patterns across views\n- Focus management between components","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-11T16:30:31.52619-05:00","created_by":"jonandersen","updated_at":"2026-01-11T16:30:31.52619-05:00","dependencies":[{"issue_id":"public-cli-ha5.7","depends_on_id":"public-cli-ha5","type":"parent-child","created_at":"2026-01-11T16:30:31.526809-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-ha5.7","depends_on_id":"public-cli-ha5.1","type":"blocks","created_at":"2026-01-11T16:30:37.829458-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-ha5.8","title":"TUI config persistence - watchlist and preferences","description":"Persist TUI settings:\n- Save/load watchlist symbols\n- Remember last active view\n- Refresh interval preference\n- Store in ~/.config/pub/tui.yaml\n- Graceful handling of missing/corrupt config","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-11T16:30:31.719407-05:00","created_by":"jonandersen","updated_at":"2026-01-11T16:30:31.719407-05:00","dependencies":[{"issue_id":"public-cli-ha5.8","depends_on_id":"public-cli-ha5","type":"parent-child","created_at":"2026-01-11T16:30:31.720216-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-ha5.8","depends_on_id":"public-cli-ha5.1","type":"blocks","created_at":"2026-01-11T16:30:37.887801-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-hph","title":"Fix Makefile lint target - golangci-lint not found","description":"make lint fails with 'golangci-lint: No such file or directory'. Either install golangci-lint as a dependency or update the Makefile to check for it / provide installation instructions.","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-01-10T20:37:05.023709-05:00","created_by":"jonandersen","updated_at":"2026-01-10T20:46:46.851997-05:00","closed_at":"2026-01-10T20:46:46.851997-05:00","close_reason":"Fixed Makefile to find golangci-lint in GOPATH/bin and updated config for v2"}
{"id":"public-cli-il7","title":"Implement 'pub instrument' command","description":"Get details for a single instrument.\n\n**API:** https://public.com/api/docs/resources/instrument-details/get-instrument\n\n**First step:** Fetch and document the API spec before implementing.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-11T19:16:12.318321-05:00","created_by":"jonandersen","updated_at":"2026-01-11T19:23:22.883957-05:00","closed_at":"2026-01-11T19:23:22.883957-05:00","close_reason":"Closed"}
{"id":"public-cli-iq8","title":"Move Instrument/History domain types to publicapi","description":"Move instrument and history types to pkg/publicapi/types.go:\n\nFrom cmd/instrument.go:\n- InstrumentIdentifier (line 27)\n- InstrumentResponse (line 33)\n\nFrom cmd/instruments.go:\n- InstrumentsResponse (line 28)\n\nFrom cmd/history.go:\n- Transaction (line 27)\n- HistoryResponse (line 45)\n\nUpdate imports in respective cmd/ files.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T22:20:55.909623-05:00","created_by":"jonandersen","updated_at":"2026-01-11T22:20:55.909623-05:00","dependencies":[{"issue_id":"public-cli-iq8","depends_on_id":"public-cli-68m","type":"blocks","created_at":"2026-01-11T22:21:49.484232-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-j8q","title":"Configure command shows usage info on validation errors","description":"When configure fails (e.g., invalid secret key), it shows the usage info which is confusing. Should only show the error message.\n\nExample:\n```\nError: failed to validate secret key: token exchange failed: 400\nUsage:\n  pub configure [flags]\n\nFlags:\n      --account string   Default account UUID (optional)\n  -h, --help             help for configure\n```\n\nExpected: Just show the error, not usage info.\n\nFix: Set `cmd.SilenceUsage = true` in the command to suppress usage on RunE errors.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-10T23:52:25.902004-05:00","created_by":"jonandersen","updated_at":"2026-01-11T07:51:09.209493-05:00","closed_at":"2026-01-11T07:51:09.209493-05:00","close_reason":"Added SilenceUsage = true to configure command"}
{"id":"public-cli-llk","title":"Move Order domain types to publicapi","description":"Move 10 order-related types from cmd/order.go to pkg/publicapi/types.go:\n- OrderRequest (line 30)\n- OrderInstrument (line 43)\n- OrderExpiration (line 49)\n- OrderResponse (line 54)\n- PreflightRequest (line 59)\n- RegulatoryFees (line 70)\n- PreflightResponse (line 77)\n- OrderStatusResponse (line 88)\n- OpenOrder (line 104)\n- OrderListResponse (line 118)\n\nUpdate imports in cmd/order.go and internal/tui/ to use new location.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T22:20:39.726099-05:00","created_by":"jonandersen","updated_at":"2026-01-11T22:20:39.726099-05:00","dependencies":[{"issue_id":"public-cli-llk","depends_on_id":"public-cli-68m","type":"blocks","created_at":"2026-01-11T22:21:49.320351-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-msh","title":"Implement Accounts API methods in publicapi","description":"Implement account-related methods in pkg/publicapi/accounts.go:\n\nMethods to implement:\n- GetAccounts(ctx) ([]Account, error)\n- GetPortfolio(ctx, accountID) (*Portfolio, error)\n\nConsolidates logic currently in:\n- cmd/account.go:129-170 (list accounts)\n- cmd/account.go:203-285 (portfolio)\n- internal/tui/portfolio.go:125-165 (FetchPortfolio)\n- internal/tui/tui.go:657-686 (FetchAccounts)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T22:20:56.266299-05:00","created_by":"jonandersen","updated_at":"2026-01-11T22:20:56.266299-05:00","dependencies":[{"issue_id":"public-cli-msh","depends_on_id":"public-cli-8o2","type":"blocks","created_at":"2026-01-11T22:21:50.084037-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-nfk","title":"Implement 'pub history' command","description":"Get account transaction history.\n\n**API:** https://public.com/api/docs/resources/account-details/get-history\n\n**First step:** Fetch and document the API spec before implementing.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-11T19:16:12.687248-05:00","created_by":"jonandersen","updated_at":"2026-01-11T21:46:41.527622-05:00","closed_at":"2026-01-11T21:46:41.527622-05:00","close_reason":"Closed"}
{"id":"public-cli-p84","title":"Investigate and plan API/CLI separation","description":"Research and document what's needed to split the codebase into pkg/publicapi/ and thin CLI layers.\n\n## Investigation Areas\n\n1. **Audit current domain types** - Find all structs in cmd/ that should move to publicapi\n2. **Audit API calls** - Map which endpoints are called and what responses look like\n3. **Identify dependencies** - What does cmd/ depend on that should stay CLI-specific vs move to API?\n4. **Design publicapi interface** - What methods should the client expose?\n5. **Consider auth story** - Should publicapi handle token refresh or just accept a token?\n\n## Deliverable\nCreate tickets for each migration step:\n- One ticket per domain area (accounts, quotes, orders, options)\n- Tickets for updating CLI to use new publicapi\n- Any cleanup/deprecation tickets","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T19:08:05.407663-05:00","created_by":"jonandersen","updated_at":"2026-01-11T22:22:07.541127-05:00","closed_at":"2026-01-11T22:22:07.541127-05:00","close_reason":"Investigation complete. Created 16 migration tickets with proper dependencies. Key findings: 48 domain types to move, 16 duplicates in TUI, 17 API endpoints mapped, token caching bug identified (P1)."}
{"id":"public-cli-p9x","title":"Add Greeks display to options chain","description":"Display Greeks for options in the chain view:\n- Delta, Gamma, Theta, Vega, Rho\n- IV (Implied Volatility)\n- Configurable columns","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-12T19:43:29.445829-05:00","created_by":"jonandersen","updated_at":"2026-01-12T19:43:29.445829-05:00"}
{"id":"public-cli-r1c","title":"Add history view to TUI with pagination","description":"Add a new History view to the TUI that shows transaction/order history.\n\n## Requirements\n- Display order/transaction history in a scrollable list\n- Implement pagination for large history sets\n- Show details panel when navigating items (expandable detail view)\n- Follow existing TUI patterns (portfolio, watchlist views)\n\n## Potential actions on history items\n- View full order details\n- See execution info (fills, timestamps)\n- Filter by type (buy/sell, stock/options/crypto)\n\n## Implementation notes\n- Add new view constant (ViewHistory)\n- Create internal/tui/history.go\n- Add key binding for view switching\n- Fetch from appropriate API endpoint","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-11T22:54:42.177021-05:00","created_by":"jonandersen","updated_at":"2026-01-11T22:54:42.177021-05:00"}
{"id":"public-cli-uoe","title":"Update TUI to use publicapi client","description":"After all API methods are implemented, update TUI components to use pkg/publicapi instead of making direct HTTP calls:\n\nFiles to update:\n- internal/tui/portfolio.go: FetchPortfolio() should use client.GetPortfolio()\n- internal/tui/watchlist.go: FetchWatchlistQuotes() should use client.GetQuotes()\n- internal/tui/orders.go: FetchOrders() should use client.ListOrders()\n- internal/tui/trade.go: FetchTradeQuote() should use client.GetQuotes()\n- internal/tui/tui.go: FetchAccounts() should use client.GetAccounts()\n\nThe TUI should receive a pre-configured publicapi.Client in its constructor, eliminating auth handling from TUI code entirely.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T22:21:27.687792-05:00","created_by":"jonandersen","updated_at":"2026-01-11T22:21:27.687792-05:00","dependencies":[{"issue_id":"public-cli-uoe","depends_on_id":"public-cli-msh","type":"blocks","created_at":"2026-01-11T22:21:50.911483-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-uoe","depends_on_id":"public-cli-cpc","type":"blocks","created_at":"2026-01-11T22:21:50.970371-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-uoe","depends_on_id":"public-cli-ygp","type":"blocks","created_at":"2026-01-11T22:21:51.031331-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-uoe","depends_on_id":"public-cli-1ac","type":"blocks","created_at":"2026-01-11T22:21:51.091201-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-uoe","depends_on_id":"public-cli-a8l","type":"blocks","created_at":"2026-01-11T22:21:51.150875-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-uoe","depends_on_id":"public-cli-884","type":"blocks","created_at":"2026-01-11T22:21:51.210611-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-v85","title":"Project Setup \u0026 Tooling","description":"Foundation epic: Set up project structure, build tooling, linting, and dependencies. Must be completed before any other work.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-10T19:57:29.736027-05:00","created_by":"jonandersen","updated_at":"2026-01-10T20:06:42.64759-05:00","closed_at":"2026-01-10T20:06:42.64759-05:00","close_reason":"All subtasks complete: directory structure, Makefile, golangci-lint, and go.mod are set up"}
{"id":"public-cli-v85.1","title":"Create project directory structure","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T19:57:37.472082-05:00","created_by":"jonandersen","updated_at":"2026-01-10T20:01:16.268848-05:00","closed_at":"2026-01-10T20:01:16.268848-05:00","close_reason":"Created cmd/ and internal/ directories with initial package files","dependencies":[{"issue_id":"public-cli-v85.1","depends_on_id":"public-cli-v85","type":"parent-child","created_at":"2026-01-10T19:57:37.475818-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-v85.2","title":"Set up Makefile with build/test/lint/fmt targets","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T19:57:37.683383-05:00","created_by":"jonandersen","updated_at":"2026-01-10T20:01:26.933002-05:00","closed_at":"2026-01-10T20:01:26.933002-05:00","close_reason":"Created Makefile with all, build, test, lint, fmt, and clean targets","dependencies":[{"issue_id":"public-cli-v85.2","depends_on_id":"public-cli-v85","type":"parent-child","created_at":"2026-01-10T19:57:37.685753-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-v85.2","depends_on_id":"public-cli-v85.1","type":"blocks","created_at":"2026-01-10T19:58:04.264828-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-v85.3","title":"Configure golangci-lint v2","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T19:57:37.882442-05:00","created_by":"jonandersen","updated_at":"2026-01-10T20:01:55.892272-05:00","closed_at":"2026-01-10T20:01:55.892272-05:00","close_reason":"Created .golangci.yml with v2 format and standard linters","dependencies":[{"issue_id":"public-cli-v85.3","depends_on_id":"public-cli-v85","type":"parent-child","created_at":"2026-01-10T19:57:37.884912-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-v85.3","depends_on_id":"public-cli-v85.1","type":"blocks","created_at":"2026-01-10T19:58:04.430199-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-v85.4","title":"Initialize go.mod with core dependencies","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T19:57:38.078007-05:00","created_by":"jonandersen","updated_at":"2026-01-10T20:05:43.6276-05:00","closed_at":"2026-01-10T20:05:43.6276-05:00","close_reason":"Added cobra, go-keyring, testify, and yaml.v3 dependencies","dependencies":[{"issue_id":"public-cli-v85.4","depends_on_id":"public-cli-v85","type":"parent-child","created_at":"2026-01-10T19:57:38.078646-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-v85.4","depends_on_id":"public-cli-v85.1","type":"blocks","created_at":"2026-01-10T19:58:04.596323-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-vb0","title":"Error with setup instructions when CLI is unconfigured","description":"When user runs any command (quote, account, order, etc.) without having configured the CLI:\n\n1. Check if secret key exists in keyring OR PUB_SECRET_KEY env var is set\n2. If not configured, error out with clear message:\n   'CLI not configured. Run: pub configure\n    Or set PUB_SECRET_KEY environment variable.'\n3. Do NOT auto-prompt - just error and exit\n\nThis keeps the UX simple and predictable:\n- Interactive users: run 'pub configure' once\n- CI/CD/scripts: set PUB_SECRET_KEY env var","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T23:37:05.109831-05:00","created_by":"jonandersen","updated_at":"2026-01-11T08:17:57.146549-05:00","closed_at":"2026-01-11T08:17:57.146549-05:00","close_reason":"Added tests for existing implementation","dependencies":[{"issue_id":"public-cli-vb0","depends_on_id":"public-cli-72e","type":"blocks","created_at":"2026-01-10T23:38:46.521372-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-vv4","title":"Authentication System","description":"Token exchange with Public.com API, token caching with TTL, auto-refresh on expiry. Uses httptest for testing.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-10T19:57:29.699319-05:00","created_by":"jonandersen","updated_at":"2026-01-10T23:18:32.238145-05:00","closed_at":"2026-01-10T23:18:32.238145-05:00","close_reason":"Closed","dependencies":[{"issue_id":"public-cli-vv4","depends_on_id":"public-cli-9pf","type":"blocks","created_at":"2026-01-10T19:58:36.800944-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-vv4","depends_on_id":"public-cli-7a1","type":"blocks","created_at":"2026-01-10T19:58:36.865469-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-vv4.1","title":"Implement token exchange logic with tests","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T19:57:34.516221-05:00","created_by":"jonandersen","updated_at":"2026-01-10T23:12:52.088385-05:00","closed_at":"2026-01-10T23:12:52.088385-05:00","close_reason":"Closed","dependencies":[{"issue_id":"public-cli-vv4.1","depends_on_id":"public-cli-vv4","type":"parent-child","created_at":"2026-01-10T19:57:34.518531-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-vv4.2","title":"Add token caching with TTL to disk","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T19:57:34.712469-05:00","created_by":"jonandersen","updated_at":"2026-01-10T23:16:14.086701-05:00","closed_at":"2026-01-10T23:16:14.086701-05:00","close_reason":"Closed","dependencies":[{"issue_id":"public-cli-vv4.2","depends_on_id":"public-cli-vv4","type":"parent-child","created_at":"2026-01-10T19:57:34.713217-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-vv4.3","title":"Implement auto-refresh on token expiry","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T19:57:34.906922-05:00","created_by":"jonandersen","updated_at":"2026-01-10T23:18:32.235849-05:00","closed_at":"2026-01-10T23:18:32.235849-05:00","close_reason":"Closed","dependencies":[{"issue_id":"public-cli-vv4.3","depends_on_id":"public-cli-vv4","type":"parent-child","created_at":"2026-01-10T19:57:34.907549-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-wsr","title":"Design Options TUI interface in ASCII mockups","description":"Research existing TUI layouts in the codebase and design ASCII mockups for:\n- Options tab with asset selector\n- Options chain view (calls/puts, strikes, expiries)\n- Greeks display\n- Reusable asset selector component\n\nMust be consistent with existing portfolio/watchlist views.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-12T19:43:18.330403-05:00","created_by":"jonandersen","updated_at":"2026-01-12T19:43:18.330403-05:00"}
{"id":"public-cli-xat","title":"Add trading safety lock setting in configure","description":"Add a configuration setting that prevents trading commands from executing. This is a safety measure to ensure agents don't place orders without explicit permission. When enabled, order placement commands should fail with a clear message explaining the lock is active.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-11T12:31:59.936026-05:00","created_by":"jonandersen","updated_at":"2026-01-11T12:46:28.398731-05:00","closed_at":"2026-01-11T12:46:28.398731-05:00","close_reason":"Implemented trading safety lock with TradingEnabled config field"}
{"id":"public-cli-xnm","title":"Display equity summary in portfolio command","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T08:04:11.206278-05:00","created_by":"jonandersen","updated_at":"2026-01-11T08:10:31.190562-05:00","closed_at":"2026-01-11T08:10:31.190562-05:00","close_reason":"Implemented v2 API response parsing with nested types and equity summary display"}
{"id":"public-cli-ygp","title":"Implement Orders API methods in publicapi","description":"Implement order-related methods in pkg/publicapi/orders.go:\n\nMethods to implement:\n- PlaceOrder(ctx, accountID, req OrderRequest) (*OrderResponse, error)\n- CancelOrder(ctx, accountID, orderID) error\n- GetOrderStatus(ctx, accountID, orderID) (*OrderStatusResponse, error)\n- ListOrders(ctx, accountID) ([]OpenOrder, error)\n- Preflight(ctx, accountID, req PreflightRequest) (*PreflightResponse, error)\n\nHelper functions to include:\n- DetermineOrderType(limitPrice, stopPrice) string (from cmd/order.go:527)\n- SumFees(fees RegulatoryFees) float64 (from cmd/order.go:469)\n\nConsolidates logic from cmd/order.go and internal/tui/orders.go.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T22:21:08.389618-05:00","created_by":"jonandersen","updated_at":"2026-01-11T22:21:08.389618-05:00","dependencies":[{"issue_id":"public-cli-ygp","depends_on_id":"public-cli-llk","type":"blocks","created_at":"2026-01-11T22:21:50.205499-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-yov","title":"Reorganize codebase for API/CLI/UI separation","description":"Split the codebase into cleanly separated layers that can be extracted to separate repos later if needed:\n\n1. **pkg/publicapi/** - Standalone Go API client (importable by external projects)\n2. **cmd/** - Thin CLI layer using publicapi\n3. **ui/** - Future UI layer\n\n## Goals\n- Domain types (Account, Portfolio, Quote, etc.) live in publicapi package\n- CLI becomes a thin wrapper that calls publicapi and formats output\n- External Go projects can import and use the API client\n- Structure allows easy extraction to separate repos later\n\n## Current State\n- internal/api/ has generic HTTP client\n- cmd/ has Cobra commands + domain types + API parsing (all mixed together)\n\n## Target State\n- pkg/publicapi/ - Complete API client with all domain types and methods\n- cmd/ - Just Cobra wiring, calls publicapi, formats output\n- internal/ - CLI-specific code (auth, config, keyring, output formatting)","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-11T19:07:56.896975-05:00","created_by":"jonandersen","updated_at":"2026-01-11T19:07:56.896975-05:00","dependencies":[{"issue_id":"public-cli-yov","depends_on_id":"public-cli-p84","type":"blocks","created_at":"2026-01-11T19:08:11.501066-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-yov","depends_on_id":"public-cli-79w","type":"blocks","created_at":"2026-01-11T22:23:46.173773-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-ypb","title":"TUI toolbar navigation - arrow key tab switching","description":"Add keyboard navigation to the header tab bar:\n\n**Current behavior:**\n- Number keys (1-4) switch views\n- In Trade view, must press Esc to exit text field before numbers work\n\n**Desired behavior:**\n- Press Up from top of view to select the tab bar\n- Left/Right arrows navigate between tabs in the bar\n- Down or Enter selects the highlighted tab\n- Esc from text field selects current tab in toolbar (e.g., 4 for Trade)\n- Visual indicator showing which tab is highlighted vs active\n\n**Implementation notes:**\n- Add a 'toolbarFocused' state to main Model\n- When toolbar is focused, render tabs with different highlight style\n- Handle arrow keys for tab navigation\n- This may require bubbletea focus management or a custom approach\n\n**Depends on:**\n- TUI trade screen (public-cli-ha5.5) - completed","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-11T19:21:49.635906-05:00","created_by":"jonandersen","updated_at":"2026-01-11T19:21:49.635906-05:00","dependencies":[{"issue_id":"public-cli-ypb","depends_on_id":"public-cli-ha5","type":"blocks","created_at":"2026-01-11T19:21:53.813394-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-zwf","title":"Options Command","description":"Options trading: view expirations, options chains, and greeks. Specialized feature for options traders.\n\n**API Reference:** See API.md - Market Data \u0026 Options sections\n- POST /userapigateway/marketdata/{accountId}/option-expirations\n- POST /userapigateway/marketdata/{accountId}/option-chain\n- GET /userapigateway/option-details/{accountId}/greeks","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-10T19:57:58.13865-05:00","created_by":"jonandersen","updated_at":"2026-01-11T19:14:27.907371-05:00","closed_at":"2026-01-11T19:14:27.907371-05:00","close_reason":"All child tasks complete: expirations, chain, greeks, multileg preflight, multileg order","dependencies":[{"issue_id":"public-cli-zwf","depends_on_id":"public-cli-dc9","type":"blocks","created_at":"2026-01-10T19:58:37.375803-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-zwf.1","title":"Implement 'pub options expirations'","description":"List available option expiration dates for an underlying.\n\n**API Reference:** See API.md - Get Option Expirations section\n- Endpoint: POST /userapigateway/marketdata/{accountId}/option-expirations\n- Request: instrument with symbol and type (EQUITY or UNDERLYING_SECURITY_FOR_INDEX_OPTION)\n- Response: baseSymbol and expirations array (YYYY-MM-DD dates)\n\n**Implementation:**\n- pub options expirations AAPL\n- Display list of available expiration dates\n- Support --json output flag","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T19:58:01.993913-05:00","created_by":"jonandersen","updated_at":"2026-01-11T16:54:13.636468-05:00","closed_at":"2026-01-11T16:54:13.636468-05:00","close_reason":"Closed","dependencies":[{"issue_id":"public-cli-zwf.1","depends_on_id":"public-cli-zwf","type":"parent-child","created_at":"2026-01-10T19:58:01.996616-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-zwf.2","title":"Implement 'pub options chain'","description":"Display option chain for a symbol and expiration date.\n\n**API Reference:** See API.md - Get Option Chain section\n- Endpoint: POST /userapigateway/marketdata/{accountId}/option-chain\n- Request: instrument and expirationDate\n- Response: baseSymbol, calls array, puts array (each with quotes)\n\n**Implementation:**\n- pub options chain AAPL --expiration 2025-01-17\n- Display calls and puts with strike, bid, ask, volume, open interest\n- Support --json output flag","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T19:58:02.078524-05:00","created_by":"jonandersen","updated_at":"2026-01-11T17:05:16.305483-05:00","closed_at":"2026-01-11T17:05:16.305483-05:00","close_reason":"Closed","dependencies":[{"issue_id":"public-cli-zwf.2","depends_on_id":"public-cli-zwf","type":"parent-child","created_at":"2026-01-10T19:58:02.079165-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-zwf.3","title":"Implement 'pub options greeks' command","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T17:13:27.681661-05:00","created_by":"jonandersen","updated_at":"2026-01-11T18:06:43.600226-05:00","closed_at":"2026-01-11T18:06:43.600226-05:00","close_reason":"Closed","dependencies":[{"issue_id":"public-cli-zwf.3","depends_on_id":"public-cli-zwf","type":"parent-child","created_at":"2026-01-11T17:13:27.682352-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-zwf.4","title":"Implement 'pub options multileg' preflight command","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T17:13:27.869366-05:00","created_by":"jonandersen","updated_at":"2026-01-11T19:00:47.210521-05:00","closed_at":"2026-01-11T19:00:47.210521-05:00","close_reason":"Closed","dependencies":[{"issue_id":"public-cli-zwf.4","depends_on_id":"public-cli-zwf","type":"parent-child","created_at":"2026-01-11T17:13:27.870054-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-zwf.5","title":"Implement 'pub options multileg' place order command","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T17:13:28.061708-05:00","created_by":"jonandersen","updated_at":"2026-01-11T19:13:11.701891-05:00","closed_at":"2026-01-11T19:13:11.701891-05:00","close_reason":"Implemented multileg order command with preflight, confirmation, and tests","dependencies":[{"issue_id":"public-cli-zwf.5","depends_on_id":"public-cli-zwf","type":"parent-child","created_at":"2026-01-11T17:13:28.062495-05:00","created_by":"jonandersen"}]}
