{"id":"public-cli-0h0","title":"TUI portfolio: Total Value missing, Day P/L may be incorrect","description":"Account Summary section has display issues:\n\n1. **Total Value shows '$' with no amount** - the value is completely missing\n2. **Day P/L may be incorrect** - showing -$0.41 but needs verification\n\nScreenshot shows:\n- Total Value: $ (empty)\n- Cash: $45.03\n- Day P/L: -$0.41\n- Buying Power: $45.03\n- Options BP: $45.03\n\nLikely issue: Total Value field not being populated from API response or wrong field being read.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-11T19:12:11.28783-05:00","created_by":"jonandersen","updated_at":"2026-01-11T19:27:35.637276-05:00","closed_at":"2026-01-11T19:27:35.637276-05:00","close_reason":"Fixed by summing all equity components (STOCK + CASH + CRYPTO) instead of looking for non-existent TOTAL type"}
{"id":"public-cli-0i2","title":"Order Command","description":"Place and manage orders: buy, sell, limit orders, order status. Requires confirmation before execution.\n\n**API Reference:** See API.md - Order Placement section\n- POST /userapigateway/trading/{accountId}/order - Place order\n- GET /userapigateway/trading/{accountId}/order/{orderId} - Check status\n- DELETE /userapigateway/trading/{accountId}/order/{orderId} - Cancel order","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-10T19:57:52.213255-05:00","created_by":"jonandersen","updated_at":"2026-01-11T16:39:50.857547-05:00","closed_at":"2026-01-11T16:39:50.857547-05:00","close_reason":"All subtasks complete: order placement, status checking, and limit/stop orders implemented","dependencies":[{"issue_id":"public-cli-0i2","depends_on_id":"public-cli-dc9","type":"blocks","created_at":"2026-01-10T19:58:37.31205-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-0i2.1","title":"Implement order placement with confirmation","description":"Implement order placement with interactive confirmation.\n\n**IMPORTANT:** Check `config.CheckTrading()` before placing any order. Return `config.ErrTradingDisabled` if trading is not enabled. This prevents agents from placing orders without explicit permission.\n\n**API Reference:** See API.md - Place Order section\n- Endpoint: POST /userapigateway/trading/{accountId}/order\n- Required: orderId (UUID), instrument, orderSide (BUY/SELL), orderType, expiration, quantity or amount\n- Order is async - poll GET /order/{orderId} for status\n\n**Implementation:**\n- pub order buy AAPL --quantity 10\n- pub order sell AAPL --quantity 5\n- Show order preview before confirmation\n- Generate UUID for orderId\n- Display order confirmation with orderId","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T19:57:54.989672-05:00","created_by":"jonandersen","updated_at":"2026-01-11T15:53:00.906311-05:00","closed_at":"2026-01-11T15:53:00.906311-05:00","close_reason":"Implemented order buy/sell with confirmation, tests passing","dependencies":[{"issue_id":"public-cli-0i2.1","depends_on_id":"public-cli-0i2","type":"parent-child","created_at":"2026-01-10T19:57:54.991804-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-0i2.2","title":"Add order status checking","description":"Check order status by orderId.\n\n**API Reference:** See API.md - Get Order section\n- Endpoint: GET /userapigateway/trading/{accountId}/order/{orderId}\n- Status values: NEW, PARTIALLY_FILLED, FILLED, CANCELLED, REJECTED, EXPIRED\n- May return 404 if indexing hasn't completed\n\n**Implementation:**\n- pub order status \u003corderId\u003e\n- Display: status, filledQuantity, averagePrice, timestamps\n- Support --json output flag","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T19:57:55.07153-05:00","created_by":"jonandersen","updated_at":"2026-01-11T16:19:21.145534-05:00","closed_at":"2026-01-11T16:19:21.145534-05:00","close_reason":"Implemented order status command with tests","dependencies":[{"issue_id":"public-cli-0i2.2","depends_on_id":"public-cli-0i2","type":"parent-child","created_at":"2026-01-10T19:57:55.072194-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-0i2.3","title":"Support limit orders","description":"Support limit orders with price specification.\n\n**IMPORTANT:** Check `config.CheckTrading()` before placing any order. Return `config.ErrTradingDisabled` if trading is not enabled. This prevents agents from placing orders without explicit permission.\n\n**API Reference:** See API.md - Place Order section\n- orderType: MARKET, LIMIT, STOP, STOP_LIMIT\n- limitPrice required for LIMIT/STOP_LIMIT orders\n- stopPrice required for STOP/STOP_LIMIT orders\n- expiration: DAY, GTC, GTD\n\n**Implementation:**\n- pub order buy AAPL --quantity 10 --limit 150.00\n- pub order sell AAPL --quantity 5 --stop 145.00\n- Validate required prices based on order type","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T19:57:55.152228-05:00","created_by":"jonandersen","updated_at":"2026-01-11T16:36:02.207688-05:00","closed_at":"2026-01-11T16:36:02.207688-05:00","close_reason":"Implemented limit/stop/stop-limit orders with expiration flag","dependencies":[{"issue_id":"public-cli-0i2.3","depends_on_id":"public-cli-0i2","type":"parent-child","created_at":"2026-01-10T19:57:55.152824-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-104","title":"Implement reusable asset selector component","description":"Create a reusable asset selector component for the TUI that can be used in both Options and Trade views.\n\n## Features\n- Quick symbol entry with autocomplete\n- Select from Watchlist\n- Select from Portfolio positions\n- Shows asset type and options availability status\n\n## ASCII Mockup - Quick Symbol Entry\n\n```\n  ┌─────────────────────────────────────────────┐\n  │  Select Asset                               │\n  │                                             │\n  │  Symbol:                                    │\n  │  +------------------+                       │\n  │  | AAPL_            |                       │\n  │  +------------------+                       │\n  │                                             │\n  │  Matching:                                  │\n  │  \u003e AAPL    Apple Inc                 EQUITY │\n  │    AAPL2   (no match)                       │\n  │                                             │\n  │  [Enter] Select  [Esc] Cancel               │\n  └─────────────────────────────────────────────┘\n```\n\n## ASCII Mockup - From Watchlist\n\n```\n  ┌─────────────────────────────────────────────┐\n  │  Select Asset                          [w]  │\n  │                                             │\n  │  From Watchlist:                            │\n  │    AAPL    $185.42   +1.25%                 │\n  │  \u003e NVDA    $142.18   +2.34%                 │\n  │    MSFT    $378.91   -0.45%                 │\n  │    TSLA    $248.50   +0.89%                 │\n  │                                             │\n  │  [Enter] Select  [s] Search  [Esc] Cancel   │\n  └─────────────────────────────────────────────┘\n```\n\n## ASCII Mockup - From Portfolio\n\n```\n  ┌─────────────────────────────────────────────┐\n  │  Select Asset                          [p]  │\n  │                                             │\n  │  From Portfolio:                            │\n  │  \u003e AAPL    100 shares   $18,542.00          │\n  │    NVDA     25 shares    $3,554.50          │\n  │    MSFT     50 shares   $18,945.50          │\n  │                                             │\n  │  [Enter] Select  [w] Watchlist  [Esc] Cancel│\n  └─────────────────────────────────────────────┘\n```\n\n## Implementation\n\nFile: `internal/tui/asset_selector.go`\n\n```go\ntype AssetSelectorMode int\n\nconst (\n    AssetSelectorModeSearch AssetSelectorMode = iota\n    AssetSelectorModeWatchlist\n    AssetSelectorModePortfolio\n)\n\ntype AssetSelectorModel struct {\n    Mode         AssetSelectorMode\n    SearchInput  textinput.Model\n    Matches      []Instrument\n    WatchSymbols []string\n    Positions    []Position\n    Cursor       int\n    Selected     string\n}\n```\n\n## Keyboard Navigation\n- `s` - Switch to search mode\n- `w` - Switch to watchlist mode\n- `p` - Switch to portfolio mode\n- `↑/↓` - Navigate list\n- `Enter` - Select asset\n- `Esc` - Cancel\n\n## Dependencies\n- Needs instruments API to check options availability\n- Needs access to watchlist symbols\n- Needs access to portfolio positions","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T19:43:28.899034-05:00","created_by":"jonandersen","updated_at":"2026-01-12T21:39:37.318807-05:00","closed_at":"2026-01-12T21:39:37.318807-05:00","close_reason":"Implemented reusable asset selector with search/watchlist/portfolio modes","dependencies":[{"issue_id":"public-cli-104","depends_on_id":"public-cli-wsr","type":"blocks","created_at":"2026-01-12T19:43:35.847912-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-104","depends_on_id":"public-cli-2ix","type":"parent-child","created_at":"2026-01-12T19:43:41.211991-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-1ac","title":"Implement Options API methods in publicapi","description":"Implement options-related methods in pkg/publicapi/options.go:\n\nMethods to implement:\n- GetExpirations(ctx, accountID, symbol) (*OptionExpirationsResponse, error)\n- GetChain(ctx, accountID, symbol, expiration) (*OptionChainResponse, error)\n- GetGreeks(ctx, accountID, symbols []string) (*GreeksResponse, error)\n- MultilegPreflight(ctx, accountID, req MultilegPreflightRequest) (*MultilegPreflightResponse, error)\n- PlaceMultilegOrder(ctx, accountID, req MultilegOrderRequest) (*MultilegOrderResponse, error)\n\nConsolidates logic from cmd/options.go.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T22:21:08.60151-05:00","created_by":"jonandersen","updated_at":"2026-01-11T22:21:08.60151-05:00","dependencies":[{"issue_id":"public-cli-1ac","depends_on_id":"public-cli-aow","type":"blocks","created_at":"2026-01-11T22:21:50.269432-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-1bw","title":"TUI account switcher in toolbar","description":"Add account selector to the TUI header/toolbar area:\n\n**Requirements:**\n- Display current active account in the toolbar (truncated account ID or account type)\n- Allow switching between accounts via keyboard shortcut or dropdown\n- Fetch available accounts from API on startup\n- Persist selected account for the session\n- Update all views (portfolio, orders, trade) when account changes\n\n**UI considerations:**\n- Show in header near the view tabs\n- Keyboard shortcut (e.g., 'a' for account) to open account picker\n- Visual indicator of which account is active\n\n**Implementation notes:**\n- Use existing /userapigateway/trading/account endpoint to list accounts\n- Store selected accountId in Model state\n- Trigger data refresh when account changes","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-11T19:27:44.246577-05:00","created_by":"jonandersen","updated_at":"2026-01-11T22:10:09.972868-05:00","closed_at":"2026-01-11T22:10:09.972868-05:00","close_reason":"Implemented account switcher in TUI toolbar"}
{"id":"public-cli-1is","title":"Add shared API client with auto token refresh for all commands","description":"Currently only cmd/account.go has the token refresher wired up. We need to:\n\n1. Create a shared/centralized way to create an API client with token refresh configured\n2. Options to explore:\n   - Helper function in cmd/ that creates a pre-configured client\n   - Shared options struct that all commands embed\n   - Factory pattern that takes store + config and returns ready-to-use client\n\nCurrent pattern (repeated in every command):\n```go\nstore := keyring.NewEnvStore(keyring.NewSystemStore())\ntoken, err := getAuthToken(store, cfg.APIBaseURL, false)\nclient := api.NewClient(opts.baseURL, opts.authToken).WithTokenRefresher(func() (string, error) {\n    return getAuthToken(store, cfg.APIBaseURL, true)\n})\n```\n\nIdeal pattern:\n```go\nclient := api.NewClientWithAuth(cfg, store) // handles token + refresh internally\n```\n\nCommands to update:\n- cmd/quote.go\n- cmd/order.go\n- cmd/options.go\n- cmd/history.go\n- cmd/instrument.go\n- cmd/instruments.go\n- internal/tui/*.go (portfolio, watchlist, orders, trade, tui)\n\nDepends on: public-cli-96f (token caching fix)","status":"in_progress","priority":2,"issue_type":"epic","created_at":"2026-01-11T23:18:02.04462-05:00","created_by":"jonandersen","updated_at":"2026-01-13T20:53:00.970924-05:00"}
{"id":"public-cli-1y2","title":"Cleanup: Remove internal/api after publicapi migration","description":"After all CLI and TUI code has been migrated to use pkg/publicapi:\n\n1. Remove internal/api/client.go - now redundant\n2. Consider absorbing internal/auth into pkg/publicapi or keeping it internal\n3. Update any remaining imports\n4. Run tests to ensure nothing breaks\n\nThis is the final cleanup step after full migration.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-11T22:21:34.176162-05:00","created_by":"jonandersen","updated_at":"2026-01-11T22:21:34.176162-05:00","dependencies":[{"issue_id":"public-cli-1y2","depends_on_id":"public-cli-5hk","type":"blocks","created_at":"2026-01-11T22:21:51.384886-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-1y2","depends_on_id":"public-cli-uoe","type":"blocks","created_at":"2026-01-11T22:21:51.445642-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-2ix","title":"Options Chain Trading \u0026 Greeks in TUI","description":"Add options chain viewing, trading, and Greeks display to the TUI. Includes a reusable asset selector component that can be used across Options and Trading screens. Must check instruments API for optionable assets.","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-12T19:43:13.532028-05:00","created_by":"jonandersen","updated_at":"2026-01-12T19:43:13.532028-05:00"}
{"id":"public-cli-36c","title":"Output Formatting","description":"Table and JSON output formatting. Default is human-readable tables, --json flag for machine-readable output.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-10T19:57:30.915212-05:00","created_by":"jonandersen","updated_at":"2026-01-11T07:47:52.391167-05:00","closed_at":"2026-01-11T07:47:52.391167-05:00","close_reason":"Closed","dependencies":[{"issue_id":"public-cli-36c","depends_on_id":"public-cli-v85","type":"blocks","created_at":"2026-01-10T19:58:36.991302-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-36c.1","title":"Implement table formatting for terminal output","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T19:57:35.107277-05:00","created_by":"jonandersen","updated_at":"2026-01-11T07:47:52.393594-05:00","closed_at":"2026-01-11T07:47:52.393594-05:00","close_reason":"Closed","dependencies":[{"issue_id":"public-cli-36c.1","depends_on_id":"public-cli-36c","type":"parent-child","created_at":"2026-01-10T19:57:35.107884-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-36c.2","title":"Add --json flag support for all commands","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T19:57:35.31894-05:00","created_by":"jonandersen","updated_at":"2026-01-11T07:47:52.395019-05:00","closed_at":"2026-01-11T07:47:52.395019-05:00","close_reason":"Closed","dependencies":[{"issue_id":"public-cli-36c.2","depends_on_id":"public-cli-36c","type":"parent-child","created_at":"2026-01-10T19:57:35.319596-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-40p","title":"Use default account from config when --account flag not provided","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T12:20:19.3861-05:00","created_by":"jonandersen","updated_at":"2026-01-11T12:23:53.818017-05:00","closed_at":"2026-01-11T12:23:53.818017-05:00","close_reason":"Closed"}
{"id":"public-cli-4om","title":"Enhance configure command with account selection and management options","description":"Improve the configure command with:\n\n1. **Initial setup enhancement**: After configuring the secret key, optionally fetch accounts and let user select a default account\n\n2. **Reconfigure menu**: When configure is run on an already-configured system, show a menu with options:\n   - Select different default account\n   - Configure new secret key\n   - Clear stored secret\n   - View current configuration\n\nThis makes the configure command a one-stop shop for all authentication and account management.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-11T11:40:46.845455-05:00","created_by":"jonandersen","updated_at":"2026-01-11T12:17:40.4153-05:00","closed_at":"2026-01-11T12:17:40.4153-05:00","close_reason":"Closed"}
{"id":"public-cli-4om.1","title":"Add account selection after initial configure","description":"After successfully configuring the secret key, fetch available accounts and optionally let user select a default account to store in config.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T11:41:37.262102-05:00","created_by":"jonandersen","updated_at":"2026-01-11T12:17:40.408826-05:00","closed_at":"2026-01-11T12:17:40.408826-05:00","close_reason":"Closed","dependencies":[{"issue_id":"public-cli-4om.1","depends_on_id":"public-cli-4om","type":"parent-child","created_at":"2026-01-11T11:41:37.265161-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-4om.2","title":"Add reconfigure menu when already configured","description":"When configure is run and a secret already exists, show a menu instead of overwriting. Menu should present options for account selection, new secret, clear secret, view config.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T11:41:37.452196-05:00","created_by":"jonandersen","updated_at":"2026-01-11T12:17:40.410993-05:00","closed_at":"2026-01-11T12:17:40.410993-05:00","close_reason":"Closed","dependencies":[{"issue_id":"public-cli-4om.2","depends_on_id":"public-cli-4om","type":"parent-child","created_at":"2026-01-11T11:41:37.452869-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-4om.3","title":"Implement clear secret option","description":"Add ability to clear/remove the stored secret key from the system keyring.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T11:41:37.636465-05:00","created_by":"jonandersen","updated_at":"2026-01-11T12:17:40.412455-05:00","closed_at":"2026-01-11T12:17:40.412455-05:00","close_reason":"Closed","dependencies":[{"issue_id":"public-cli-4om.3","depends_on_id":"public-cli-4om","type":"parent-child","created_at":"2026-01-11T11:41:37.637203-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-4om.4","title":"Implement view current configuration option","description":"Add ability to view current configuration: default account, API base URL, whether secret is configured (not the secret itself).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T11:41:37.829197-05:00","created_by":"jonandersen","updated_at":"2026-01-11T12:17:40.413835-05:00","closed_at":"2026-01-11T12:17:40.413835-05:00","close_reason":"Closed","dependencies":[{"issue_id":"public-cli-4om.4","depends_on_id":"public-cli-4om","type":"parent-child","created_at":"2026-01-11T11:41:37.830009-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-5c3","title":"Add accounts API methods to internal/api","description":"Add ListAccounts() method to api.Client that returns shared Account types","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-13T20:53:18.90601-05:00","created_by":"jonandersen","updated_at":"2026-01-13T20:53:18.90601-05:00","dependencies":[{"issue_id":"public-cli-5c3","depends_on_id":"public-cli-dmc","type":"blocks","created_at":"2026-01-13T20:53:38.679223-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-5da","title":"Add instruments API client for options availability","description":"Move options API client code from cmd/options.go into internal/api/ package.\n\n## Goal\nRefactor the options API code so it can be shared between the CLI commands and the TUI.\n\n## Current State\nOptions API calls are embedded directly in `cmd/options.go`:\n- Option expirations: `POST /userapigateway/marketdata/{account}/option-expirations`\n- Option chain: `POST /userapigateway/marketdata/{account}/option-chain`\n- Option greeks: `GET /userapigateway/option-details/{account}/greeks`\n- Instruments (for options availability): `GET /userapigateway/trading/instruments/{symbol}/{type}`\n\n## Required Changes\n\n### 1. Create internal/api/options.go\nMove the API request/response types and create client methods:\n\n```go\n// Request/Response types (move from cmd/options.go)\ntype OptionExpirationsRequest struct { ... }\ntype OptionExpirationsResponse struct { ... }\ntype OptionChainRequest struct { ... }\ntype OptionChainResponse struct { ... }\ntype GreeksResponse struct { ... }\n// etc.\n\n// Client methods\nfunc (c *Client) GetOptionExpirations(ctx context.Context, accountID, symbol string) (*OptionExpirationsResponse, error)\nfunc (c *Client) GetOptionChain(ctx context.Context, accountID, symbol, expiration string) (*OptionChainResponse, error)\nfunc (c *Client) GetOptionGreeks(ctx context.Context, accountID string, osiSymbols []string) (*GreeksResponse, error)\nfunc (c *Client) GetInstrument(ctx context.Context, symbol, instType string) (*InstrumentResponse, error)\n```\n\n### 2. Update cmd/options.go\nRefactor CLI commands to use the new internal/api methods instead of inline API calls.\n\n### 3. Add tests\nAdd tests for the new internal/api/options.go functions.\n\n## Files to modify\n- `internal/api/options.go` (new)\n- `internal/api/options_test.go` (new)\n- `cmd/options.go` (refactor to use internal/api)\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T19:43:29.079821-05:00","created_by":"jonandersen","updated_at":"2026-01-12T21:06:08.811622-05:00","closed_at":"2026-01-12T21:06:08.811622-05:00","close_reason":"Implemented options API client with GetOptionExpirations, GetOptionChain, GetOptionGreeks, and GetInstrument methods","dependencies":[{"issue_id":"public-cli-5da","depends_on_id":"public-cli-wsr","type":"blocks","created_at":"2026-01-12T19:43:35.911775-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-5da","depends_on_id":"public-cli-2ix","type":"parent-child","created_at":"2026-01-12T19:43:41.268593-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-5hk","title":"Update CLI commands to use publicapi client","description":"After all API methods are implemented, update CLI commands to use pkg/publicapi instead of making direct HTTP calls:\n\nFiles to update:\n- cmd/account.go: Use client.GetAccounts(), client.GetPortfolio()\n- cmd/quote.go: Use client.GetQuotes()\n- cmd/order.go: Use client.PlaceOrder(), client.CancelOrder(), etc.\n- cmd/options.go: Use client.GetExpirations(), client.GetChain(), etc.\n- cmd/instrument.go: Use client.GetInstrument()\n- cmd/instruments.go: Use client.ListInstruments()\n- cmd/history.go: Use client.GetHistory()\n\nEach command should become a thin wrapper:\n1. Parse flags\n2. Create publicapi.Client\n3. Call API method\n4. Format output\n\nThis dramatically reduces cmd/ complexity and eliminates duplicate HTTP handling code.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T22:21:27.494998-05:00","created_by":"jonandersen","updated_at":"2026-01-11T22:21:27.494998-05:00","dependencies":[{"issue_id":"public-cli-5hk","depends_on_id":"public-cli-msh","type":"blocks","created_at":"2026-01-11T22:21:50.500247-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-5hk","depends_on_id":"public-cli-cpc","type":"blocks","created_at":"2026-01-11T22:21:50.559604-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-5hk","depends_on_id":"public-cli-ygp","type":"blocks","created_at":"2026-01-11T22:21:50.618987-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-5hk","depends_on_id":"public-cli-1ac","type":"blocks","created_at":"2026-01-11T22:21:50.68001-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-5hk","depends_on_id":"public-cli-a8l","type":"blocks","created_at":"2026-01-11T22:21:50.741242-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-5zg","title":"Add side-by-side layout option for options chain","description":"Add an alternative layout for the options chain that displays calls and puts side-by-side with the strike price in the center.\n\n## Current Layout (Stacked)\n```\nCALLS\nStrike   Bid    Ask    Last   Vol      OI\n180.00   5.80   5.95   5.85   1234   8432\n185.00   2.45   2.55   2.50   5432  18234\n\nPUTS\nStrike   Bid    Ask    Last   Vol      OI\n180.00   0.45   0.52   0.48    876   5432\n185.00   2.10   2.20   2.15   4321  14321\n```\n\n## Proposed Layout (Side-by-Side)\n```\n           CALLS                    STRIKE                    PUTS\n  Bid    Ask   Last   Vol    OI              OI    Vol   Last   Ask    Bid\n 5.80   5.95   5.85  1234  8432    180.00   5432   876   0.48   0.52   0.45\n 2.45   2.55   2.50  5432 18234  \u003e 185.00  14321  4321   2.15   2.20   2.10\n```\n\n## Benefits\n- Easier to compare call/put prices at the same strike\n- See both sides of a straddle/strangle at a glance\n- More familiar layout for options traders\n\n## Implementation\n- Add a layout toggle key (e.g., `l` for layout)\n- Store preference in OptionsModel.Layout field\n- Render using lipgloss horizontal join for alignment\n- May need to abbreviate column headers on narrow terminals","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-12T22:04:08.004512-05:00","created_by":"jonandersen","updated_at":"2026-01-12T22:04:16.477088-05:00","dependencies":[{"issue_id":"public-cli-5zg","depends_on_id":"public-cli-9g8","type":"blocks","created_at":"2026-01-12T22:04:21.399372-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-68m","title":"Create pkg/publicapi package structure","description":"Create the pkg/publicapi/ directory structure and scaffold files:\n- client.go: Client struct with TokenProvider pattern\n- types.go: Empty file ready for domain types\n- errors.go: API error types\n- helpers.go: Shared utilities\n\nThis is the foundation ticket - all other migrations depend on it.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T22:20:39.181838-05:00","created_by":"jonandersen","updated_at":"2026-01-11T22:20:39.181838-05:00"}
{"id":"public-cli-6nq","title":"Makefile fmt target fails when goimports not installed","description":"## Problem\n\nRunning `make all` or `make fmt` fails with:\n\n```\nmake: goimports: No such file or directory\nmake: *** [fmt] Error 1\n```\n\nThis happens when `goimports` is not installed or not in PATH.\n\n## Suggested Fix\n\nThe Makefile should either:\n1. Check for required tools and provide helpful error messages\n2. Auto-install missing tools (e.g., `go install golang.org/x/tools/cmd/goimports@latest`)\n3. Document required tools in README\n\n## Workaround\n\nInstall goimports manually:\n```bash\ngo install golang.org/x/tools/cmd/goimports@latest\n```\n\nThen ensure `~/go/bin` is in your PATH.","status":"closed","priority":3,"issue_type":"bug","created_at":"2026-01-11T00:00:16.214954-05:00","created_by":"jonandersen","updated_at":"2026-01-11T07:39:51.254995-05:00","closed_at":"2026-01-11T07:39:51.254995-05:00","close_reason":"Fixed by adding goimports as a tool dependency in go.mod and using 'go tool goimports' in Makefile"}
{"id":"public-cli-704","title":"TUI trade: first focused field should be symbol input, not buy/sell","description":"When opening the trade view in the TUI, the buy/sell toggle is focused first. The symbol input field should be focused instead since users need to enter a symbol before anything else.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-12T19:44:28.449337-05:00","created_by":"jonandersen","updated_at":"2026-01-12T23:14:38.714467-05:00","closed_at":"2026-01-12T23:14:38.714467-05:00","close_reason":"Fixed - symbol input now focused when entering trade view"}
{"id":"public-cli-72e","title":"Add interactive prompt for secret key input","description":"Configure command changes:\n1. Remove --secret flag entirely (security risk - visible in ps/history)\n2. Always prompt interactively for secret key (no-echo input using golang.org/x/term)\n3. Keep --account flag as optional\n\nImplementation:\n- Use term.ReadPassword() for hidden input\n- Check term.IsTerminal() to ensure interactive terminal\n- Error if not interactive (can't pipe secrets without flag)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T23:38:31.917593-05:00","created_by":"jonandersen","updated_at":"2026-01-10T23:53:09.668957-05:00","closed_at":"2026-01-10T23:53:09.668957-05:00","close_reason":"Implemented interactive prompt with term.ReadPassword()"}
{"id":"public-cli-79w","title":"Fix go.mod module path to match GitHub repo URL","description":"Change module path from github.com/jonandersen/pub to github.com/jonandersen/public-cli for consistency. This will enable 'go install' to work properly.\n\nTasks:\n- Update go.mod module declaration\n- Update all internal imports (~20-30 files)\n- Update .goreleaser.yaml ldflags\n- Re-add 'go install' section to README","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T22:23:30.811119-05:00","created_by":"jonandersen","updated_at":"2026-01-12T19:50:48.523315-05:00","closed_at":"2026-01-12T19:50:48.523315-05:00","close_reason":"Module path fixed, go install now works"}
{"id":"public-cli-7a1","title":"Secret Storage (Keyring)","description":"Secure credential storage using zalando/go-keyring with env var fallback for CI/headless environments. TDD approach.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-10T19:57:30.175799-05:00","created_by":"jonandersen","updated_at":"2026-01-10T20:53:21.17499-05:00","closed_at":"2026-01-10T20:53:21.17499-05:00","close_reason":"All subtasks complete: keyring abstraction, env var fallback, and mock for testing","dependencies":[{"issue_id":"public-cli-7a1","depends_on_id":"public-cli-v85","type":"blocks","created_at":"2026-01-10T19:58:36.73645-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-7a1.1","title":"Implement keyring abstraction layer with tests","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T19:57:35.879804-05:00","created_by":"jonandersen","updated_at":"2026-01-10T20:13:53.238276-05:00","closed_at":"2026-01-10T20:13:53.238276-05:00","close_reason":"Implemented SystemStore with go-keyring wrapper, Store interface, ErrNotFound, and 5 passing tests","dependencies":[{"issue_id":"public-cli-7a1.1","depends_on_id":"public-cli-7a1","type":"parent-child","created_at":"2026-01-10T19:57:35.880396-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-7a1.2","title":"Add PUB_SECRET_KEY env var fallback for CI","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T19:57:36.076862-05:00","created_by":"jonandersen","updated_at":"2026-01-10T20:36:45.283307-05:00","closed_at":"2026-01-10T20:36:45.283307-05:00","close_reason":"Closed","dependencies":[{"issue_id":"public-cli-7a1.2","depends_on_id":"public-cli-7a1","type":"parent-child","created_at":"2026-01-10T19:57:36.077406-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-7a1.3","title":"Implement mock keyring for testing","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T19:57:36.266784-05:00","created_by":"jonandersen","updated_at":"2026-01-10T20:53:10.758689-05:00","closed_at":"2026-01-10T20:53:10.758689-05:00","close_reason":"Added exportable MockStore with fluent helpers","dependencies":[{"issue_id":"public-cli-7a1.3","depends_on_id":"public-cli-7a1","type":"parent-child","created_at":"2026-01-10T19:57:36.267357-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-87e","title":"Add quotes API methods to internal/api","description":"Add GetQuotes() method to api.Client that returns shared Quote types","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-13T20:53:18.595454-05:00","created_by":"jonandersen","updated_at":"2026-01-13T20:53:18.595454-05:00","dependencies":[{"issue_id":"public-cli-87e","depends_on_id":"public-cli-dmc","type":"blocks","created_at":"2026-01-13T20:53:38.618514-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-884","title":"Remove duplicate types from internal/tui/types.go","description":"After all domain types are moved to pkg/publicapi/types.go, remove the 16 duplicate type definitions from internal/tui/types.go:\n\n- Portfolio, BuyingPower, Equity, Position, Instrument, Price, Gain, CostBasis\n- QuoteRequest, QuoteInstrument, QuotesResponse, Quote\n- Order, OrdersResponse\n- Account, AccountsResponse\n\nReplace with imports from pkg/publicapi.\n\nThis ticket depends on all 'Move X domain types' tickets being complete.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T22:20:56.084616-05:00","created_by":"jonandersen","updated_at":"2026-01-11T22:20:56.084616-05:00","dependencies":[{"issue_id":"public-cli-884","depends_on_id":"public-cli-8o2","type":"blocks","created_at":"2026-01-11T22:21:49.658108-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-884","depends_on_id":"public-cli-crh","type":"blocks","created_at":"2026-01-11T22:21:49.718275-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-884","depends_on_id":"public-cli-llk","type":"blocks","created_at":"2026-01-11T22:21:49.779529-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-884","depends_on_id":"public-cli-aow","type":"blocks","created_at":"2026-01-11T22:21:49.839467-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-884","depends_on_id":"public-cli-iq8","type":"blocks","created_at":"2026-01-11T22:21:49.901826-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-8o2","title":"Move Account domain types to publicapi","description":"Move 10 account-related types from cmd/account.go to pkg/publicapi/types.go:\n- Account (line 28)\n- AccountsResponse (line 37)\n- Portfolio (line 42)\n- BuyingPower (line 51)\n- Equity (line 58)\n- Position (line 65)\n- Instrument (line 77)\n- Price (line 84)\n- Gain (line 90)\n- CostBasis (line 97)\n\nUpdate imports in cmd/account.go and internal/tui/ to use new location.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T22:20:39.363588-05:00","created_by":"jonandersen","updated_at":"2026-01-11T22:20:39.363588-05:00","dependencies":[{"issue_id":"public-cli-8o2","depends_on_id":"public-cli-68m","type":"blocks","created_at":"2026-01-11T22:21:49.187956-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-8on","title":"Fix configure command: token exchange sends empty request body","description":"When running 'pub configure', token validation fails with:\n\nError: failed to validate secret key: token exchange failed: 400 - {\"code\":40,\"header\":null,\"message\":\"Malformed JSON request\",\"errors\":[\"Required request body is missing: public com.hellopublic.userapiauthservice.api.personal.CreateAccessTokenResponse com.hellopublic.userapiauthservice.api.rest.personal.PublicPersonalAccessTokenController.createPersonalAccessToken(com.hellopublic.userapiauthservice.api.personal.CreateAccessTokenRequest)\"],\"payload\":null}\n\nThe error indicates the request body is either missing or not being sent correctly to the /userapiauthservice/personal/access-tokens endpoint.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-10T23:56:24.091204-05:00","created_by":"jonandersen","updated_at":"2026-01-11T00:05:02.193084-05:00","closed_at":"2026-01-11T00:05:02.193084-05:00","close_reason":"Fixed token exchange to use correct API format"}
{"id":"public-cli-96f","title":"Fix: Enable token caching in auth flow","description":"FINDING: The auth.GetToken() function with smart caching exists but is NEVER used.\n\nCurrent behavior (wasteful):\n- Every command calls auth.ExchangeToken() directly\n- Every execution makes fresh API call to exchange secret for token\n- Token is valid 60 minutes but discarded immediately\n\nLocation of unused caching:\n- internal/auth/provider.go:12-28 - GetToken() with cache logic\n- internal/auth/cache.go - SaveToken(), LoadToken(), TokenCachePath()\n\nLocation of direct calls (should use GetToken instead):\n- cmd/account.go:311 - auth.ExchangeToken()\n- internal/tui/helpers.go:84 - auth.ExchangeToken()\n\nFix:\n- Change getAuthToken() helpers to use auth.GetToken() instead of auth.ExchangeToken()\n- This is a quick fix that provides immediate benefit before the full API refactor\n\nImpact: Reduces API calls from 1 per command to ~1 per hour.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-11T22:21:27.871587-05:00","created_by":"jonandersen","updated_at":"2026-01-11T23:18:07.615239-05:00","closed_at":"2026-01-11T23:18:07.615239-05:00","close_reason":"Fixed: Token caching now works. Added GetTokenWithRefresh to auth package, and API client auto-retries on 401 with fresh token. Only cmd/account.go has full implementation - see public-cli-1is for rollout to all commands."}
{"id":"public-cli-9g8","title":"Implement Options tab with chain view","description":"Add the Options tab (view #5) to the TUI with chain display and expiration selection.\n\n## View Registration\n\nAdd to `internal/tui/tui.go`:\n```go\nconst (\n    ViewPortfolio View = iota\n    ViewWatchlist\n    ViewOrders\n    ViewTrade\n    ViewOptions  // NEW\n)\n```\n\nUpdate header tabs:\n```\npub [1] Portfolio  [2] Watchlist  [3] Orders  [4] Trade  [5] Options\n```\n\n## ASCII Mockup - Initial State\n\n```\npub [1] Portfolio  [2] Watchlist  [3] Orders  [4] Trade  [5] Options     [a] abc123...\n\n  Options Chain\n\n  Underlying:\n  +----------------------+\n  | Enter symbol...      |\n  +----------------------+\n\n  Select a symbol to view options chain\n\n  Tip: Press Enter after typing a symbol, or select from your watchlist with 'w'\n\n\n\n1-5 switch view  •  esc toolbar  •  w watchlist  •  q quit\n```\n\n## ASCII Mockup - Expiration Selection\n\n```\npub [1] Portfolio  [2] Watchlist  [3] Orders  [4] Trade  [5] Options     [a] abc123...\n\n  Options Chain\n\n  Underlying: AAPL  $185.42                              Options BP: $12,500.00\n\n  Expiration:\n  +------------------+\n  | 2025-01-17     v |\n  +------------------+\n\n  Available Expirations:\n    2025-01-17 (3 DTE)\n  \u003e 2025-01-24 (10 DTE)\n    2025-01-31 (17 DTE)\n    2025-02-21 (38 DTE)\n\n  Press Enter to select, ↑/↓ to navigate\n```\n\n## ASCII Mockup - Chain View (Stacked Layout)\n\n```\npub [1] Portfolio  [2] Watchlist  [3] Orders  [4] Trade  [5] Options     [a] abc123...\n\n  Options Chain - AAPL $185.42                           Exp: 2025-01-17 (3 DTE)\n\n  CALLS                                                         Underlying: $185.42\n  Strike      Bid      Ask     Last    Volume       OI    Delta   Theta      IV\n  ─────────────────────────────────────────────────────────────────────────────────\n    180.00    5.80    5.95     5.85     1,234    8,432    0.72   -0.15    32.5%\n    182.50    4.10    4.25     4.15     2,156   12,543    0.62   -0.12    31.2%\n  \u003e 185.00    2.45    2.55     2.50     5,432   18,234    0.51   -0.10    29.8%   ATM\n    187.50    1.25    1.35     1.30     3,218   15,432    0.38   -0.08    28.9%\n    190.00    0.65    0.72     0.68     1,876    9,234    0.25   -0.05    28.2%\n\n  PUTS                                                          Underlying: $185.42\n  Strike      Bid      Ask     Last    Volume       OI    Delta   Theta      IV\n  ─────────────────────────────────────────────────────────────────────────────────\n    180.00    0.45    0.52     0.48       876    5,432   -0.28   -0.05    33.1%\n    182.50    0.95    1.05     1.00     1,543    7,654   -0.38   -0.08    31.8%\n  \u003e 185.00    2.10    2.20     2.15     4,321   14,321   -0.49   -0.10    30.2%   ATM\n\n  Updated: 2:34:15 PM\n\n\n1-5 switch view  •  ↑/↓ navigate  •  c/p calls/puts  •  e expiration  •  t trade  •  q quit\n```\n\n## Implementation\n\nFile: `internal/tui/options.go`\n\n```go\ntype OptionsState int\n\nconst (\n    OptionsStateIdle OptionsState = iota\n    OptionsStateLoadingExpirations\n    OptionsStateSelectingExpiration\n    OptionsStateLoadingChain\n    OptionsStateChainLoaded\n    OptionsStateError\n)\n\ntype OptionsModel struct {\n    State           OptionsState\n    Symbol          string\n    SymbolInput     textinput.Model\n    Expirations     []string\n    SelectedExpiry  int\n    Chain           OptionChainData\n    CallsTable      table.Model\n    PutsTable       table.Model\n    FocusedTable    string  // \"calls\" or \"puts\"\n    ShowGreeks      bool\n    LastUpdated     time.Time\n    Err             error\n}\n```\n\n## Keyboard Navigation\n- `5` - Switch to Options tab\n- `↑/↓` - Navigate strikes\n- `c` - Focus calls table\n- `p` - Focus puts table\n- `e` - Change expiration date\n- `t` - Trade selected option\n- `r` - Refresh chain\n- `w` - Select from watchlist\n- `Esc` - Go to toolbar","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T19:43:29.26491-05:00","created_by":"jonandersen","updated_at":"2026-01-12T22:05:24.65085-05:00","closed_at":"2026-01-12T22:05:24.65085-05:00","close_reason":"Implemented Options tab with chain view, symbol selection, expiration picker, and navigation","dependencies":[{"issue_id":"public-cli-9g8","depends_on_id":"public-cli-wsr","type":"blocks","created_at":"2026-01-12T19:43:35.974558-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-9g8","depends_on_id":"public-cli-2ix","type":"parent-child","created_at":"2026-01-12T19:43:41.325482-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-9g8","depends_on_id":"public-cli-104","type":"blocks","created_at":"2026-01-12T19:43:46.792777-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-9g8","depends_on_id":"public-cli-5da","type":"blocks","created_at":"2026-01-12T19:43:46.851052-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-9om","title":"Add portfolio API methods to internal/api","description":"Add GetPortfolio() method to api.Client that returns shared Portfolio type","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-13T20:53:18.408418-05:00","created_by":"jonandersen","updated_at":"2026-01-13T20:53:18.408418-05:00","dependencies":[{"issue_id":"public-cli-9om","depends_on_id":"public-cli-dmc","type":"blocks","created_at":"2026-01-13T20:53:38.556451-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-9pf","title":"Configuration System","description":"Config module for loading/saving ~/.config/pub/config.yaml with XDG support. TDD approach - write tests first.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-10T19:57:30.937923-05:00","created_by":"jonandersen","updated_at":"2026-01-10T20:33:20.459751-05:00","closed_at":"2026-01-10T20:33:20.459751-05:00","close_reason":"Closed","dependencies":[{"issue_id":"public-cli-9pf","depends_on_id":"public-cli-v85","type":"blocks","created_at":"2026-01-10T19:58:36.673909-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-9pf.1","title":"Implement config file loading/saving with tests","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T19:57:35.541504-05:00","created_by":"jonandersen","updated_at":"2026-01-10T20:09:19.312912-05:00","closed_at":"2026-01-10T20:09:19.312912-05:00","close_reason":"Implemented Load/Save with 7 passing tests and 76% coverage","dependencies":[{"issue_id":"public-cli-9pf.1","depends_on_id":"public-cli-9pf","type":"parent-child","created_at":"2026-01-10T19:57:35.542045-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-9pf.2","title":"Add XDG_CONFIG_HOME path resolution","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T19:57:35.727363-05:00","created_by":"jonandersen","updated_at":"2026-01-10T20:10:18.595456-05:00","closed_at":"2026-01-10T20:10:18.595456-05:00","close_reason":"Implemented ConfigDir and ConfigPath with XDG_CONFIG_HOME support, 4 new passing tests","dependencies":[{"issue_id":"public-cli-9pf.2","depends_on_id":"public-cli-9pf","type":"parent-child","created_at":"2026-01-10T19:57:35.727946-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-9pf.3","title":"Add config validation","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T19:57:35.91597-05:00","created_by":"jonandersen","updated_at":"2026-01-10T20:30:32.565568-05:00","closed_at":"2026-01-10T20:30:32.565568-05:00","close_reason":"Closed","dependencies":[{"issue_id":"public-cli-9pf.3","depends_on_id":"public-cli-9pf","type":"parent-child","created_at":"2026-01-10T19:57:35.916565-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-a8l","title":"Implement Instruments and History API methods in publicapi","description":"Implement remaining API methods:\n\nIn pkg/publicapi/instruments.go:\n- GetInstrument(ctx, symbol, instrumentType) (*InstrumentResponse, error)\n- ListInstruments(ctx, typeFilter, tradingFilter) ([]InstrumentResponse, error)\n\nIn pkg/publicapi/history.go:\n- GetHistory(ctx, accountID, start, end, pageSize) (*HistoryResponse, error)\n\nConsolidates logic from cmd/instrument.go, cmd/instruments.go, cmd/history.go.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T22:21:08.788456-05:00","created_by":"jonandersen","updated_at":"2026-01-11T22:21:08.788456-05:00","dependencies":[{"issue_id":"public-cli-a8l","depends_on_id":"public-cli-iq8","type":"blocks","created_at":"2026-01-11T22:21:50.329174-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-aor","title":"Move shared helper functions to publicapi","description":"Move duplicated helper functions to pkg/publicapi/helpers.go:\n\nFunctions to move:\n- formatGainLoss() - from cmd/account.go:288 and internal/tui/helpers.go:14\n- formatVolume() - from cmd/quote.go:159 and internal/tui/helpers.go:29\n- getAuthToken() - consolidate from cmd/account.go:299 and internal/tui/helpers.go:72\n\nThis eliminates code duplication between cmd/ and internal/tui/.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T22:21:28.058419-05:00","created_by":"jonandersen","updated_at":"2026-01-11T22:21:28.058419-05:00"}
{"id":"public-cli-aow","title":"Move Options domain types to publicapi","description":"Move 19 options-related types from cmd/options.go to pkg/publicapi/types.go:\n- OptionExpirationsRequest (line 29)\n- OptionInstrument (line 34)\n- OptionExpirationsResponse (line 40)\n- OptionChainRequest (line 46)\n- OptionChainResponse (line 52)\n- OptionQuote (line 59)\n- GreeksResponse (line 72)\n- OptionGreeks (line 77)\n- GreeksData (line 83)\n- MultilegPreflightRequest (line 93)\n- MultilegExpiration (line 102)\n- MultilegLeg (line 107)\n- MultilegInstrument (line 115)\n- MultilegPreflightResponse (line 121)\n- MultilegPreflightLeg (line 137)\n- MultilegRegulatoryFees (line 145)\n- MultilegPriceIncrement (line 155)\n- MultilegOrderRequest (line 162)\n- MultilegOrderResponse (line 172)\n\nUpdate imports in cmd/options.go.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T22:20:55.734238-05:00","created_by":"jonandersen","updated_at":"2026-01-11T22:20:55.734238-05:00","dependencies":[{"issue_id":"public-cli-aow","depends_on_id":"public-cli-68m","type":"blocks","created_at":"2026-01-11T22:21:49.400924-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-apt","title":"Integrate asset selector into Trading view","description":"Integrate the reusable asset selector component into the existing Trade view.\n\n## Current Trade View Symbol Input\n\nCurrently the Trade view has a simple text input for symbol:\n\n```\n  Symbol:\n  +------------------+\n  | AAPL             |\n  +------------------+\n```\n\n## Enhanced Trade View with Asset Selector\n\nAdd 'w' key to open asset selector popup:\n\n```\npub [1] Portfolio  [2] Watchlist  [3] Orders  [4] Trade  [5] Options     [a] abc123...\n\n  Place Order\n\n  Symbol: (press 'w' for watchlist)\n  +------------------+\n  | AAPL             |  $185.42 +1.25%\n  +------------------+\n\n  Side:\n  +-------+-------+\n  | BUY   | SELL  |\n  +-------+-------+\n  ...\n```\n\n## Asset Selector Integration\n\nWhen user presses 'w' on the symbol field:\n\n```\npub [1] Portfolio  [2] Watchlist  [3] Orders  [4] Trade  [5] Options     [a] abc123...\n\n  Place Order\n                    ┌─────────────────────────────────────────────┐\n  Symbol:           │  Select Asset                          [w]  │\n  +--------------   │                                             │\n  | AAPL         │  │  From Watchlist:                            │\n  +--------------   │    AAPL    $185.42   +1.25%                 │\n                    │  \u003e NVDA    $142.18   +2.34%                 │\n  Side:             │    MSFT    $378.91   -0.45%                 │\n  +-------+----     │                                             │\n  | BUY   | SEL     │  [Enter] Select  [s] Search  [Esc] Cancel   │\n  +-------+----     └─────────────────────────────────────────────┘\n```\n\n## Implementation\n\nModify `internal/tui/trade.go`:\n\n```go\ntype TradeModel struct {\n    // ... existing fields\n    AssetSelector    *AssetSelectorModel\n    ShowingSelector  bool\n}\n\nfunc (m *TradeModel) Update(msg tea.Msg, cfg *config.Config, store keyring.Store) (*TradeModel, tea.Cmd) {\n    // Handle asset selector if showing\n    if m.ShowingSelector {\n        switch msg := msg.(type) {\n        case AssetSelectedMsg:\n            m.SymbolInput.SetValue(msg.Symbol)\n            m.ShowingSelector = false\n            // Fetch quote for selected symbol\n            return m, FetchTradeQuote(msg.Symbol, cfg, store)\n        case AssetSelectorCancelledMsg:\n            m.ShowingSelector = false\n            return m, nil\n        }\n        m.AssetSelector, cmd = m.AssetSelector.Update(msg)\n        return m, cmd\n    }\n    \n    // Existing logic...\n    if m.FocusedField == TradeFieldSymbol {\n        switch msg.String() {\n        case \"w\":\n            m.ShowingSelector = true\n            m.AssetSelector = NewAssetSelectorModel(AssetSelectorModeWatchlist)\n            return m, nil\n        }\n    }\n}\n```\n\n## Keyboard Navigation\n- `w` - Open asset selector (watchlist mode) when on symbol field\n- Selector handles its own navigation\n- Selected asset auto-fills symbol and fetches quote","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-12T19:43:29.637286-05:00","created_by":"jonandersen","updated_at":"2026-01-13T08:47:56.233488-05:00","closed_at":"2026-01-13T08:47:56.233488-05:00","close_reason":"Closed","dependencies":[{"issue_id":"public-cli-apt","depends_on_id":"public-cli-wsr","type":"blocks","created_at":"2026-01-12T19:43:36.097227-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-apt","depends_on_id":"public-cli-2ix","type":"parent-child","created_at":"2026-01-12T19:43:41.442012-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-apt","depends_on_id":"public-cli-104","type":"blocks","created_at":"2026-01-12T19:43:46.96686-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-b1l","title":"Update TUI layer to use shared API models and methods","description":"Refactor internal/tui/*.go to import and use types/methods from internal/api instead of local definitions in types.go","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-13T20:53:21.182154-05:00","created_by":"jonandersen","updated_at":"2026-01-13T20:53:21.182154-05:00","dependencies":[{"issue_id":"public-cli-b1l","depends_on_id":"public-cli-9om","type":"blocks","created_at":"2026-01-13T20:53:39.433411-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-b1l","depends_on_id":"public-cli-87e","type":"blocks","created_at":"2026-01-13T20:53:39.495727-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-b1l","depends_on_id":"public-cli-5c3","type":"blocks","created_at":"2026-01-13T20:53:39.556935-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-b1l","depends_on_id":"public-cli-cxe","type":"blocks","created_at":"2026-01-13T20:53:39.617665-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-b1l","depends_on_id":"public-cli-ojk","type":"blocks","created_at":"2026-01-13T20:53:39.678812-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-b1l","depends_on_id":"public-cli-p80","type":"blocks","created_at":"2026-01-13T20:53:39.740479-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-bhr","title":"Add preflight call to show estimated cost before order confirmation","description":"Call POST /userapigateway/trading/{accountId}/preflight/single-leg before order confirmation to show the user estimated cost, commission, regulatory fees, and buying power requirement. Part of Order Command epic (public-cli-0i2).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T15:51:55.363162-05:00","created_by":"jonandersen","updated_at":"2026-01-11T16:49:27.403992-05:00","closed_at":"2026-01-11T16:49:27.403992-05:00","close_reason":"Implemented preflight API call showing estimated cost, commission, fees, and helpful error messages"}
{"id":"public-cli-c4q","title":"API Client","description":"HTTP client with automatic auth header injection, error handling, and retry logic. Uses httptest for testing.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-10T19:57:29.709798-05:00","created_by":"jonandersen","updated_at":"2026-01-11T07:41:36.852132-05:00","closed_at":"2026-01-11T07:41:36.852132-05:00","close_reason":"All subtasks complete: HTTP client, error handling, and integration tests","dependencies":[{"issue_id":"public-cli-c4q","depends_on_id":"public-cli-vv4","type":"blocks","created_at":"2026-01-10T19:58:36.927798-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-c4q.1","title":"Implement HTTP client with auth header injection","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T19:57:34.823652-05:00","created_by":"jonandersen","updated_at":"2026-01-10T23:26:09.634013-05:00","closed_at":"2026-01-10T23:26:09.634013-05:00","close_reason":"Implemented HTTP client with Get/Post/Delete methods, auth header injection, 93% test coverage","dependencies":[{"issue_id":"public-cli-c4q.1","depends_on_id":"public-cli-c4q","type":"parent-child","created_at":"2026-01-10T19:57:34.824378-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-c4q.2","title":"Add API error handling and response parsing","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T19:57:35.023006-05:00","created_by":"jonandersen","updated_at":"2026-01-10T23:29:40.749163-05:00","closed_at":"2026-01-10T23:29:40.749163-05:00","close_reason":"Added APIError type, CheckResponse, DecodeJSON with 97.5% coverage","dependencies":[{"issue_id":"public-cli-c4q.2","depends_on_id":"public-cli-c4q","type":"parent-child","created_at":"2026-01-10T19:57:35.023638-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-c4q.3","title":"Write comprehensive integration tests","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T19:57:35.20843-05:00","created_by":"jonandersen","updated_at":"2026-01-11T07:41:28.484579-05:00","closed_at":"2026-01-11T07:41:28.484579-05:00","close_reason":"Closed","dependencies":[{"issue_id":"public-cli-c4q.3","depends_on_id":"public-cli-c4q","type":"parent-child","created_at":"2026-01-10T19:57:35.209068-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-cpc","title":"Implement Quotes API methods in publicapi","description":"Implement quote-related methods in pkg/publicapi/quotes.go:\n\nMethods to implement:\n- GetQuotes(ctx, accountID, symbols []QuoteInstrument) ([]Quote, error)\n\nConsolidates logic currently in:\n- cmd/quote.go:88-156 (quote command)\n- internal/tui/watchlist.go:310-380 (FetchWatchlistQuotes)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T22:21:08.206345-05:00","created_by":"jonandersen","updated_at":"2026-01-11T22:21:08.206345-05:00","dependencies":[{"issue_id":"public-cli-cpc","depends_on_id":"public-cli-crh","type":"blocks","created_at":"2026-01-11T22:21:50.146001-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-crh","title":"Move Quote domain types to publicapi","description":"Move 4 quote-related types from cmd/quote.go to pkg/publicapi/types.go:\n- QuoteRequest (line 29)\n- QuoteInstrument (line 34)\n- QuotesResponse (line 40)\n- Quote (line 45)\n\nUpdate imports in cmd/quote.go and internal/tui/ to use new location.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T22:20:39.546016-05:00","created_by":"jonandersen","updated_at":"2026-01-11T22:20:39.546016-05:00","dependencies":[{"issue_id":"public-cli-crh","depends_on_id":"public-cli-68m","type":"blocks","created_at":"2026-01-11T22:21:49.25132-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-cxe","title":"Add orders API methods to internal/api","description":"Add GetOrders(), PlaceOrder(), CancelOrder() methods to api.Client","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-13T20:53:19.333599-05:00","created_by":"jonandersen","updated_at":"2026-01-13T20:53:19.333599-05:00","dependencies":[{"issue_id":"public-cli-cxe","depends_on_id":"public-cli-dmc","type":"blocks","created_at":"2026-01-13T20:53:38.738118-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-d7g","title":"TUI watchlist shows 'Loading quotes...' instead of empty state on first open","description":"When opening the watchlist view for the first time (no symbols added yet), the UI shows 'Loading quotes...' indefinitely instead of displaying an empty state message prompting the user to add symbols.\n\n**Expected behavior:** Show empty state message (e.g., 'No symbols in watchlist. Press 'a' to add a symbol.')\n\n**Actual behavior:** Shows 'Loading quotes...' which never resolves\n\n**Possible cause:** May fail to load watchlist config file when it doesn't exist yet, or the empty list case isn't handled before triggering the quote loading state.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-11T17:05:50.823983-05:00","created_by":"jonandersen","updated_at":"2026-01-11T19:09:08.426927-05:00","closed_at":"2026-01-11T19:09:08.426927-05:00","close_reason":"Fixed by initializing empty watchlist in loaded state"}
{"id":"public-cli-dc9","title":"Configure Command","description":"First-time setup: prompt for secret key, validate credentials, store in keyring. Entry point for new users.\n\n**API Reference:** See API.md - Authentication section\n- Token exchange: POST /userapiauthservice/personal/access-tokens\n- User generates secret key at public.com/settings/security/api\n- Secret exchanged for short-lived access token (JWT)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-10T19:57:31.853324-05:00","created_by":"jonandersen","updated_at":"2026-01-11T07:50:06.902607-05:00","closed_at":"2026-01-11T07:50:06.902607-05:00","close_reason":"Configure command fully implemented with credential validation, keyring storage, and interactive prompts. All tests pass.","dependencies":[{"issue_id":"public-cli-dc9","depends_on_id":"public-cli-c4q","type":"blocks","created_at":"2026-01-10T19:58:37.054981-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-dc9","depends_on_id":"public-cli-36c","type":"blocks","created_at":"2026-01-10T19:58:37.119576-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-dc9.1","title":"Implement 'pub configure' with credential validation","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T19:57:35.98933-05:00","created_by":"jonandersen","updated_at":"2026-01-10T23:32:49.473236-05:00","closed_at":"2026-01-10T23:32:49.473236-05:00","close_reason":"Implemented configure command with --secret and --account flags, credential validation, keyring storage","dependencies":[{"issue_id":"public-cli-dc9.1","depends_on_id":"public-cli-dc9","type":"parent-child","created_at":"2026-01-10T19:57:35.98991-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-dg5","title":"Quote Command","description":"Get stock/ETF quotes. Support single and multiple symbols.\n\n**API Reference:** See API.md - Market Data section\n- Endpoint: POST /userapigateway/marketdata/{accountId}/quotes\n- Supports EQUITY, OPTION, and INDEX instrument types","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-10T19:57:45.800976-05:00","created_by":"jonandersen","updated_at":"2026-01-11T08:01:42.603907-05:00","closed_at":"2026-01-11T08:01:42.603907-05:00","close_reason":"Closed","dependencies":[{"issue_id":"public-cli-dg5","depends_on_id":"public-cli-dc9","type":"blocks","created_at":"2026-01-10T19:58:37.248977-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-dg5.1","title":"Implement 'pub quote' for single and multiple symbols","description":"Implement the quote command for fetching real-time market quotes.\n\n**API Reference:** See API.md - Get Quotes section\n- Endpoint: POST /userapigateway/marketdata/{accountId}/quotes\n- Request: Array of instruments with symbol and type\n- Response: quotes array with last, bid, ask, volume, timestamps\n\n**Implementation:**\n- Accept one or more symbols as arguments\n- Default to EQUITY type\n- Display: symbol, last price, bid/ask, volume\n- Support --json output flag","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T19:57:48.288008-05:00","created_by":"jonandersen","updated_at":"2026-01-11T08:01:42.602093-05:00","closed_at":"2026-01-11T08:01:42.602093-05:00","close_reason":"Closed","dependencies":[{"issue_id":"public-cli-dg5.1","depends_on_id":"public-cli-dg5","type":"parent-child","created_at":"2026-01-10T19:57:48.290542-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-di0","title":"Account Command","description":"View accounts, portfolio, positions, and balances. Core user functionality.\n\n**API Reference:** See API.md - Accounts \u0026 Portfolio sections\n- GET /userapigateway/trading/account - List accounts\n- GET /userapigateway/trading/{accountId}/portfolio/v2 - Portfolio snapshot","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-10T19:57:38.432152-05:00","created_by":"jonandersen","updated_at":"2026-01-11T07:55:53.308193-05:00","closed_at":"2026-01-11T07:55:53.308193-05:00","close_reason":"Account command implemented with list and portfolio subcommands","dependencies":[{"issue_id":"public-cli-di0","depends_on_id":"public-cli-dc9","type":"blocks","created_at":"2026-01-10T19:58:37.184221-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-di0.1","title":"Implement 'pub account' list view","description":"Implement account listing command.\n\n**API Reference:** See API.md - Get Accounts section\n- Endpoint: GET /userapigateway/trading/account\n- Response: accounts array with accountId, accountType, optionsLevel, brokerageAccountType, tradePermissions\n\n**Implementation:**\n- Display all accounts with key info\n- Show accountType (BROKERAGE, IRA, etc.)\n- Show tradePermissions status\n- Support --json output flag","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T19:57:42.112444-05:00","created_by":"jonandersen","updated_at":"2026-01-11T07:55:53.310426-05:00","closed_at":"2026-01-11T07:55:53.310426-05:00","close_reason":"Account command implemented with list and portfolio subcommands","dependencies":[{"issue_id":"public-cli-di0.1","depends_on_id":"public-cli-di0","type":"parent-child","created_at":"2026-01-10T19:57:42.114886-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-di0.2","title":"Add portfolio/positions display","description":"Display portfolio positions and balances.\n\n**API Reference:** See API.md - Get Account Portfolio section\n- Endpoint: GET /userapigateway/trading/{accountId}/portfolio/v2\n- Response: buyingPower, equity breakdown, positions array, open orders\n\n**Implementation:**\n- Show buying power and cash balances\n- List positions with symbol, quantity, current value, unrealized gain\n- Show daily gain/loss\n- Support --json output flag","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T19:57:42.19972-05:00","created_by":"jonandersen","updated_at":"2026-01-11T07:55:53.311779-05:00","closed_at":"2026-01-11T07:55:53.311779-05:00","close_reason":"Account command implemented with list and portfolio subcommands","dependencies":[{"issue_id":"public-cli-di0.2","depends_on_id":"public-cli-di0","type":"parent-child","created_at":"2026-01-10T19:57:42.200381-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-dmc","title":"Move shared API response models to internal/api/models.go","description":"Create internal/api/models.go with Portfolio, Quote, Account, Transaction, Order types currently duplicated in cmd/*.go and internal/tui/types.go","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T20:53:18.216181-05:00","created_by":"jonandersen","updated_at":"2026-01-13T21:12:57.050814-05:00","closed_at":"2026-01-13T21:12:57.050814-05:00","close_reason":"Created internal/api/models.go with all shared types, updated TUI with type aliases and CMD files to use api.* types"}
{"id":"public-cli-e17","title":"Implement 'pub instruments' command","description":"List all available instruments.\n\n**API:** https://public.com/api/docs/resources/instrument-details/get-all-instruments\n\n**First step:** Fetch and document the API spec before implementing.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-11T19:16:12.50238-05:00","created_by":"jonandersen","updated_at":"2026-01-11T19:28:14.934824-05:00","closed_at":"2026-01-11T19:28:14.934824-05:00","close_reason":"Closed"}
{"id":"public-cli-egg","title":"Implement 'pub order list' to show open orders","description":"Add 'pub order list' command to display open orders from the portfolio API.\n\nThe portfolio endpoint (GET /userapigateway/trading/{accountId}/portfolio/v2) returns an 'orders' array with open orders. This command should:\n- Fetch and display open orders in a table format\n- Support --json flag for machine-readable output\n- Show order ID, symbol, side, type, quantity, status\n- Enable the workflow: list orders -\u003e find order ID -\u003e cancel order","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T16:11:15.125655-05:00","created_by":"jonandersen","updated_at":"2026-01-11T16:24:18.914027-05:00","closed_at":"2026-01-11T16:24:18.914027-05:00","close_reason":"Implemented pub order list command"}
{"id":"public-cli-ej9","title":"Add options order form to Options view","description":"Add the ability to place single-leg options orders directly from the Options chain view.\n\n## Trade Flow\n\nWhen user selects an option in the chain and presses 't':\n\n### ASCII Mockup - Options Order Form\n\n```\npub [1] Portfolio  [2] Watchlist  [3] Orders  [4] Trade  [5] Options     [a] abc123...\n\n  Place Options Order\n\n  Contract: AAPL 185.00 CALL Jan 17, 2025\n  Symbol:   AAPL250117C00185000\n  Underlying: AAPL $185.42\n\n  Side:\n  +-------+-------+\n  | BUY   | SELL  |\n  +-------+-------+\n\n  Order Type:\n  +--------+-------+\n  | MARKET | LIMIT |\n  +--------+-------+\n\n  Quantity:\n  +------------------+\n  | 1                |\n  +------------------+\n\n  Limit Price:\n  +------------------+\n  | 2.50             |\n  +------------------+\n\n  Est. Cost:  $250.00 (1 contract x $2.50 x 100)\n\n  [Enter] Review order\n\n\ntab next field  •  space toggle  •  enter review  •  esc cancel  •  q quit\n```\n\n### ASCII Mockup - Order Confirmation\n\n```\npub [1] Portfolio  [2] Watchlist  [3] Orders  [4] Trade  [5] Options     [a] abc123...\n\n  Confirm Options Order\n\n  BUY 1 contract of AAPL 185.00 CALL Jan 17, 2025\n\n  Order Type: LIMIT\n  Limit Price: $2.50\n  Est. Cost:  $250.00\n\n  Contract Details:\n    Symbol:     AAPL250117C00185000\n    Bid/Ask:    $2.45 / $2.55\n    Delta:      0.51\n    Days to Exp: 3\n\n  Options Buying Power: $12,500.00\n\n\n  [Y] Confirm order  [N] Cancel\n\n\ny confirm  •  n cancel\n```\n\n### ASCII Mockup - Order Success\n\n```\npub [1] Portfolio  [2] Watchlist  [3] Orders  [4] Trade  [5] Options     [a] abc123...\n\n  Options Order Placed Successfully!\n\n  Order ID: abc123-def456-...\n  Symbol:   AAPL250117C00185000\n\n  BUY 1 contract at $2.50 limit\n\n  Press Ctrl+N to place another order, or Esc to return to chain\n```\n\n## Implementation\n\nAdd to `internal/tui/options.go` or new file `internal/tui/options_trade.go`:\n\n```go\ntype OptionsTradeMode int\n\nconst (\n    OptionsTradeOff OptionsTradeMode = iota\n    OptionsTradeForm\n    OptionsTradeConfirm\n    OptionsTradeSubmitting\n    OptionsTradeSuccess\n)\n\ntype OptionsTradeModel struct {\n    Mode            OptionsTradeMode\n    Option          OptionQuote      // Selected option from chain\n    Side            TradeSide        // BUY or SELL\n    OrderType       TradeOrderType   // MARKET or LIMIT\n    QuantityInput   textinput.Model\n    LimitPriceInput textinput.Model\n    FocusedField    int\n    OrderID         string\n    Err             error\n}\n\nfunc (m *OptionsTradeModel) SetOption(opt OptionQuote, underlying string, underlyingPrice string) {\n    m.Option = opt\n    m.Mode = OptionsTradeForm\n    // Pre-fill limit price with mid-point\n    mid := (parseBid + parseAsk) / 2\n    m.LimitPriceInput.SetValue(fmt.Sprintf(\"%.2f\", mid))\n}\n```\n\n## API Integration\n\nUse existing single-leg order endpoint:\n```\nPOST /userapigateway/trading/{account}/order\n{\n  \"orderId\": \"uuid\",\n  \"instrument\": {\n    \"symbol\": \"AAPL250117C00185000\",\n    \"type\": \"OPTION\"\n  },\n  \"orderSide\": \"BUY\",\n  \"orderType\": \"LIMIT\",\n  \"expiration\": { \"timeInForce\": \"DAY\" },\n  \"quantity\": \"1\",\n  \"limitPrice\": \"2.50\"\n}\n```\n\n## Keyboard Navigation\n- `t` - Enter trade mode for selected option\n- `Tab` - Next field\n- `Space` - Toggle side/order type\n- `Enter` - Review order / Confirm\n- `Y/N` - Confirm/cancel on confirmation screen\n- `Ctrl+N` - New order after success\n- `Esc` - Return to chain view","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-12T20:00:44.912244-05:00","created_by":"jonandersen","updated_at":"2026-01-12T20:00:44.912244-05:00","dependencies":[{"issue_id":"public-cli-ej9","depends_on_id":"public-cli-9g8","type":"blocks","created_at":"2026-01-12T20:00:49.9719-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-ej9","depends_on_id":"public-cli-2ix","type":"blocks","created_at":"2026-01-12T20:00:50.033578-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-ej9","depends_on_id":"public-cli-wsr","type":"blocks","created_at":"2026-01-12T20:00:54.488546-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-ha5","title":"TUI - Interactive Terminal UI","description":"Add interactive terminal UI mode via 'pub ui' command. Uses bubbletea/lipgloss for a full-screen experience with live data, keyboard navigation, and views for portfolio, watchlist, orders, and trading.","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-11T16:30:12.211505-05:00","created_by":"jonandersen","updated_at":"2026-01-11T16:30:12.211505-05:00"}
{"id":"public-cli-ha5.1","title":"TUI core setup - bubbletea scaffolding and main model","description":"Set up the TUI foundation:\n- Add bubbletea, lipgloss, bubbles dependencies\n- Create cmd/ui.go with 'pub ui' command\n- Implement main Model struct with Init/Update/View\n- Add basic app shell with header, content area, footer\n- Keyboard quit handler (esc/q)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-11T16:30:30.382938-05:00","created_by":"jonandersen","updated_at":"2026-01-11T16:39:20.812638-05:00","closed_at":"2026-01-11T16:39:20.812638-05:00","close_reason":"Closed","dependencies":[{"issue_id":"public-cli-ha5.1","depends_on_id":"public-cli-ha5","type":"parent-child","created_at":"2026-01-11T16:30:30.385832-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-ha5.2","title":"TUI portfolio view - positions table and account summary","description":"Implement the main portfolio dashboard:\n- Account summary header (total value, cash, day P/L)\n- Positions table with symbol, qty, price, value, change\n- Row selection with arrow keys\n- Auto-refresh with configurable interval\n- Loading states and error handling","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T16:30:30.570748-05:00","created_by":"jonandersen","updated_at":"2026-01-11T16:49:40.731842-05:00","closed_at":"2026-01-11T16:49:40.731842-05:00","close_reason":"Closed","dependencies":[{"issue_id":"public-cli-ha5.2","depends_on_id":"public-cli-ha5","type":"parent-child","created_at":"2026-01-11T16:30:30.57153-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-ha5.2","depends_on_id":"public-cli-ha5.1","type":"blocks","created_at":"2026-01-11T16:30:37.529926-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-ha5.3","title":"TUI watchlist view - add/remove symbols with live quotes","description":"Implement watchlist functionality:\n- Display watched symbols with live quotes\n- Add symbol dialog (text input)\n- Delete symbol with confirmation\n- Persist watchlist to config file\n- Jump to trade from selected symbol","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T16:30:30.756564-05:00","created_by":"jonandersen","updated_at":"2026-01-11T17:02:19.374985-05:00","closed_at":"2026-01-11T17:02:19.374985-05:00","close_reason":"Closed","dependencies":[{"issue_id":"public-cli-ha5.3","depends_on_id":"public-cli-ha5","type":"parent-child","created_at":"2026-01-11T16:30:30.757304-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-ha5.3","depends_on_id":"public-cli-ha5.1","type":"blocks","created_at":"2026-01-11T16:30:37.590875-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-ha5.4","title":"TUI orders view - list open orders and cancel","description":"Implement orders management view:\n- Table of open/pending orders\n- Order details on selection\n- Cancel order with confirmation dialog\n- Refresh orders list\n- Show order status updates","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T16:30:30.943672-05:00","created_by":"jonandersen","updated_at":"2026-01-11T18:50:54.095205-05:00","closed_at":"2026-01-11T18:50:54.095205-05:00","close_reason":"Closed","dependencies":[{"issue_id":"public-cli-ha5.4","depends_on_id":"public-cli-ha5","type":"parent-child","created_at":"2026-01-11T16:30:30.944325-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-ha5.4","depends_on_id":"public-cli-ha5.1","type":"blocks","created_at":"2026-01-11T16:30:37.649464-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-ha5.5","title":"TUI trade screen - buy/sell form with confirmation","description":"Implement trading interface:\n- Symbol input with validation\n- Buy/Sell toggle\n- Market/Limit order type selection\n- Quantity input\n- Limit price input (when limit selected)\n- Estimated cost calculation\n- Order preview/confirmation modal\n- Submit order and show result","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T16:30:31.133223-05:00","created_by":"jonandersen","updated_at":"2026-01-11T19:23:09.340251-05:00","closed_at":"2026-01-11T19:23:09.340251-05:00","close_reason":"Implemented trade screen with form, confirmation modal, and order submission","dependencies":[{"issue_id":"public-cli-ha5.5","depends_on_id":"public-cli-ha5","type":"parent-child","created_at":"2026-01-11T16:30:31.133864-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-ha5.5","depends_on_id":"public-cli-ha5.1","type":"blocks","created_at":"2026-01-11T16:30:37.709543-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-ha5.6","title":"TUI quote lookup - quick symbol search popup","description":"Implement quick quote lookup:\n- Keyboard shortcut to open (q)\n- Symbol text input\n- Display quote details (price, change, volume, day range)\n- Option to add to watchlist\n- Option to trade from quote view","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-11T16:30:31.323026-05:00","created_by":"jonandersen","updated_at":"2026-01-11T16:30:31.323026-05:00","dependencies":[{"issue_id":"public-cli-ha5.6","depends_on_id":"public-cli-ha5","type":"parent-child","created_at":"2026-01-11T16:30:31.323761-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-ha5.6","depends_on_id":"public-cli-ha5.1","type":"blocks","created_at":"2026-01-11T16:30:37.769225-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-ha5.7","title":"TUI keyboard navigation and help overlay","description":"Implement navigation and help:\n- Global keyboard shortcuts (p/w/o/t/q/?)\n- Tab navigation within forms\n- Help overlay showing all shortcuts\n- Consistent navigation patterns across views\n- Focus management between components","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-11T16:30:31.52619-05:00","created_by":"jonandersen","updated_at":"2026-01-11T16:30:31.52619-05:00","dependencies":[{"issue_id":"public-cli-ha5.7","depends_on_id":"public-cli-ha5","type":"parent-child","created_at":"2026-01-11T16:30:31.526809-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-ha5.7","depends_on_id":"public-cli-ha5.1","type":"blocks","created_at":"2026-01-11T16:30:37.829458-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-ha5.8","title":"TUI config persistence - watchlist and preferences","description":"Persist TUI settings:\n- Save/load watchlist symbols\n- Remember last active view\n- Refresh interval preference\n- Store in ~/.config/pub/tui.yaml\n- Graceful handling of missing/corrupt config","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-11T16:30:31.719407-05:00","created_by":"jonandersen","updated_at":"2026-01-11T16:30:31.719407-05:00","dependencies":[{"issue_id":"public-cli-ha5.8","depends_on_id":"public-cli-ha5","type":"parent-child","created_at":"2026-01-11T16:30:31.720216-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-ha5.8","depends_on_id":"public-cli-ha5.1","type":"blocks","created_at":"2026-01-11T16:30:37.887801-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-hph","title":"Fix Makefile lint target - golangci-lint not found","description":"make lint fails with 'golangci-lint: No such file or directory'. Either install golangci-lint as a dependency or update the Makefile to check for it / provide installation instructions.","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-01-10T20:37:05.023709-05:00","created_by":"jonandersen","updated_at":"2026-01-10T20:46:46.851997-05:00","closed_at":"2026-01-10T20:46:46.851997-05:00","close_reason":"Fixed Makefile to find golangci-lint in GOPATH/bin and updated config for v2"}
{"id":"public-cli-il7","title":"Implement 'pub instrument' command","description":"Get details for a single instrument.\n\n**API:** https://public.com/api/docs/resources/instrument-details/get-instrument\n\n**First step:** Fetch and document the API spec before implementing.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-11T19:16:12.318321-05:00","created_by":"jonandersen","updated_at":"2026-01-11T19:23:22.883957-05:00","closed_at":"2026-01-11T19:23:22.883957-05:00","close_reason":"Closed"}
{"id":"public-cli-ioh","title":"TUI History: Add 'load more' pagination with nextToken","description":"The history view currently fetches the first page of transactions but doesn't provide a way to load more.\n\n## Current state\n- API returns `nextToken` for pagination\n- HistoryModel already tracks `NextToken` and `HasMore`\n- Shows 'More transactions available' text when there's more data\n\n## Implementation\n- Add key binding (e.g., 'n' for next page or 'l' for load more)\n- Call FetchHistoryWithToken() with the nextToken\n- Append results to existing transactions list\n- Update footer to show the key hint when more data available","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-12T22:49:56.89659-05:00","created_by":"jonandersen","updated_at":"2026-01-12T22:50:04.455794-05:00"}
{"id":"public-cli-iq8","title":"Move Instrument/History domain types to publicapi","description":"Move instrument and history types to pkg/publicapi/types.go:\n\nFrom cmd/instrument.go:\n- InstrumentIdentifier (line 27)\n- InstrumentResponse (line 33)\n\nFrom cmd/instruments.go:\n- InstrumentsResponse (line 28)\n\nFrom cmd/history.go:\n- Transaction (line 27)\n- HistoryResponse (line 45)\n\nUpdate imports in respective cmd/ files.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T22:20:55.909623-05:00","created_by":"jonandersen","updated_at":"2026-01-11T22:20:55.909623-05:00","dependencies":[{"issue_id":"public-cli-iq8","depends_on_id":"public-cli-68m","type":"blocks","created_at":"2026-01-11T22:21:49.484232-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-j8q","title":"Configure command shows usage info on validation errors","description":"When configure fails (e.g., invalid secret key), it shows the usage info which is confusing. Should only show the error message.\n\nExample:\n```\nError: failed to validate secret key: token exchange failed: 400\nUsage:\n  pub configure [flags]\n\nFlags:\n      --account string   Default account UUID (optional)\n  -h, --help             help for configure\n```\n\nExpected: Just show the error, not usage info.\n\nFix: Set `cmd.SilenceUsage = true` in the command to suppress usage on RunE errors.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-10T23:52:25.902004-05:00","created_by":"jonandersen","updated_at":"2026-01-11T07:51:09.209493-05:00","closed_at":"2026-01-11T07:51:09.209493-05:00","close_reason":"Added SilenceUsage = true to configure command"}
{"id":"public-cli-llk","title":"Move Order domain types to publicapi","description":"Move 10 order-related types from cmd/order.go to pkg/publicapi/types.go:\n- OrderRequest (line 30)\n- OrderInstrument (line 43)\n- OrderExpiration (line 49)\n- OrderResponse (line 54)\n- PreflightRequest (line 59)\n- RegulatoryFees (line 70)\n- PreflightResponse (line 77)\n- OrderStatusResponse (line 88)\n- OpenOrder (line 104)\n- OrderListResponse (line 118)\n\nUpdate imports in cmd/order.go and internal/tui/ to use new location.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T22:20:39.726099-05:00","created_by":"jonandersen","updated_at":"2026-01-11T22:20:39.726099-05:00","dependencies":[{"issue_id":"public-cli-llk","depends_on_id":"public-cli-68m","type":"blocks","created_at":"2026-01-11T22:21:49.320351-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-msh","title":"Implement Accounts API methods in publicapi","description":"Implement account-related methods in pkg/publicapi/accounts.go:\n\nMethods to implement:\n- GetAccounts(ctx) ([]Account, error)\n- GetPortfolio(ctx, accountID) (*Portfolio, error)\n\nConsolidates logic currently in:\n- cmd/account.go:129-170 (list accounts)\n- cmd/account.go:203-285 (portfolio)\n- internal/tui/portfolio.go:125-165 (FetchPortfolio)\n- internal/tui/tui.go:657-686 (FetchAccounts)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T22:20:56.266299-05:00","created_by":"jonandersen","updated_at":"2026-01-11T22:20:56.266299-05:00","dependencies":[{"issue_id":"public-cli-msh","depends_on_id":"public-cli-8o2","type":"blocks","created_at":"2026-01-11T22:21:50.084037-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-nfk","title":"Implement 'pub history' command","description":"Get account transaction history.\n\n**API:** https://public.com/api/docs/resources/account-details/get-history\n\n**First step:** Fetch and document the API spec before implementing.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-11T19:16:12.687248-05:00","created_by":"jonandersen","updated_at":"2026-01-11T21:46:41.527622-05:00","closed_at":"2026-01-11T21:46:41.527622-05:00","close_reason":"Closed"}
{"id":"public-cli-ojk","title":"Add history API methods to internal/api","description":"Add GetHistory() method to api.Client that returns shared Transaction types","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-13T20:53:19.655229-05:00","created_by":"jonandersen","updated_at":"2026-01-13T20:53:19.655229-05:00","dependencies":[{"issue_id":"public-cli-ojk","depends_on_id":"public-cli-dmc","type":"blocks","created_at":"2026-01-13T20:53:38.798065-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-p80","title":"Consolidate auth token logic into internal/api","description":"Move duplicated getAuthToken() from cmd/account.go and internal/tui/helpers.go into a shared location","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T20:53:20.148806-05:00","created_by":"jonandersen","updated_at":"2026-01-13T21:41:38.987949-05:00","closed_at":"2026-01-13T21:41:38.987949-05:00","close_reason":"Closed"}
{"id":"public-cli-p84","title":"Investigate and plan API/CLI separation","description":"Research and document what's needed to split the codebase into pkg/publicapi/ and thin CLI layers.\n\n## Investigation Areas\n\n1. **Audit current domain types** - Find all structs in cmd/ that should move to publicapi\n2. **Audit API calls** - Map which endpoints are called and what responses look like\n3. **Identify dependencies** - What does cmd/ depend on that should stay CLI-specific vs move to API?\n4. **Design publicapi interface** - What methods should the client expose?\n5. **Consider auth story** - Should publicapi handle token refresh or just accept a token?\n\n## Deliverable\nCreate tickets for each migration step:\n- One ticket per domain area (accounts, quotes, orders, options)\n- Tickets for updating CLI to use new publicapi\n- Any cleanup/deprecation tickets","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T19:08:05.407663-05:00","created_by":"jonandersen","updated_at":"2026-01-11T22:22:07.541127-05:00","closed_at":"2026-01-11T22:22:07.541127-05:00","close_reason":"Investigation complete. Created 16 migration tickets with proper dependencies. Key findings: 48 domain types to move, 16 duplicates in TUI, 17 API endpoints mapped, token caching bug identified (P1)."}
{"id":"public-cli-p9x","title":"Add Greeks display to options chain","description":"Add Greeks display to the options chain view with configurable columns and detail panel.\n\n## Display Modes\n\n### Compact View (Default)\nShows delta and theta inline in the chain table.\n\n### Expanded View (Press 'g')\nShows all Greeks columns: Delta, Gamma, Theta, Vega, Rho, IV\n\n## ASCII Mockup - Greeks Expanded\n\n```\npub [1] Portfolio  [2] Watchlist  [3] Orders  [4] Trade  [5] Options     [a] abc123...\n\n  Options Chain - AAPL $185.42                           Exp: 2025-01-17 (3 DTE)\n\n  CALLS (Greeks: ON)\n  Strike      Bid      Ask    Delta    Gamma    Theta     Vega      Rho       IV\n  ─────────────────────────────────────────────────────────────────────────────────\n    180.00    5.80    5.95    0.72    0.032   -0.150    0.185    0.142    32.5%\n    182.50    4.10    4.25    0.62    0.045   -0.125    0.198    0.125    31.2%\n  \u003e 185.00    2.45    2.55    0.51    0.052   -0.105    0.212    0.108    29.8%   ATM\n    187.50    1.25    1.35    0.38    0.048   -0.082    0.195    0.085    28.9%\n    190.00    0.65    0.72    0.25    0.038   -0.055    0.165    0.062    28.2%\n```\n\n## ASCII Mockup - Detail Panel\n\nWhen user presses Enter on a row:\n\n```\n  Strike Details: 185.00 CALL\n  ───────────────────────────────────────────────────────\n  Symbol:     AAPL250117C00185000\n  Bid/Ask:    $2.45 / $2.55 (spread: $0.10)\n  Volume:     5,432          Open Interest: 18,234\n  Delta:      0.51           Implied Vol:   29.8%\n  Gamma:      0.052          Theta:         -0.105\n  Vega:       0.212          Rho:           0.108\n```\n\n## Implementation\n\nAdd to `internal/tui/options.go`:\n\n```go\ntype GreeksDisplayMode int\n\nconst (\n    GreeksDisplayCompact GreeksDisplayMode = iota  // Delta, Theta only\n    GreeksDisplayExpanded                          // All Greeks\n)\n\n// Add to OptionsModel\ntype OptionsModel struct {\n    // ... existing fields\n    GreeksMode      GreeksDisplayMode\n    GreeksData      map[string]GreeksData  // OSI symbol -\u003e Greeks\n    ShowDetailPanel bool\n    SelectedOption  *OptionQuote\n}\n\n// Update table columns based on mode\nfunc (m *OptionsModel) getChainColumns() []table.Column {\n    if m.GreeksMode == GreeksDisplayExpanded {\n        return []table.Column{\n            {Title: \"Strike\", Width: 8},\n            {Title: \"Bid\", Width: 8},\n            {Title: \"Ask\", Width: 8},\n            {Title: \"Delta\", Width: 8},\n            {Title: \"Gamma\", Width: 8},\n            {Title: \"Theta\", Width: 8},\n            {Title: \"Vega\", Width: 8},\n            {Title: \"Rho\", Width: 8},\n            {Title: \"IV\", Width: 8},\n        }\n    }\n    // Compact columns\n    return []table.Column{\n        {Title: \"Strike\", Width: 8},\n        {Title: \"Bid\", Width: 8},\n        {Title: \"Ask\", Width: 8},\n        {Title: \"Last\", Width: 8},\n        {Title: \"Volume\", Width: 10},\n        {Title: \"OI\", Width: 10},\n        {Title: \"Delta\", Width: 8},\n        {Title: \"Theta\", Width: 8},\n        {Title: \"IV\", Width: 8},\n    }\n}\n```\n\n## Keyboard Navigation\n- `g` - Toggle Greeks display mode (compact/expanded)\n- `Enter` - Show detail panel for selected option\n- `Esc` - Close detail panel\n\n## API Integration\n- Fetch Greeks lazily for visible options\n- Cache Greeks data to avoid repeated API calls\n- Refresh Greeks with chain data on 'r'","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T19:43:29.445829-05:00","created_by":"jonandersen","updated_at":"2026-01-12T22:18:21.269618-05:00","closed_at":"2026-01-12T22:18:21.269618-05:00","close_reason":"Closed","dependencies":[{"issue_id":"public-cli-p9x","depends_on_id":"public-cli-wsr","type":"blocks","created_at":"2026-01-12T19:43:36.036434-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-p9x","depends_on_id":"public-cli-2ix","type":"parent-child","created_at":"2026-01-12T19:43:41.383819-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-p9x","depends_on_id":"public-cli-9g8","type":"blocks","created_at":"2026-01-12T19:43:46.908178-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-r1c","title":"Add history view to TUI with pagination","description":"Add a new History view to the TUI that shows transaction/order history.\n\n## Requirements\n- Display order/transaction history in a scrollable list\n- Implement pagination for large history sets\n- Show details panel when navigating items (expandable detail view)\n- Follow existing TUI patterns (portfolio, watchlist views)\n\n## Potential actions on history items\n- View full order details\n- See execution info (fills, timestamps)\n- Filter by type (buy/sell, stock/options/crypto)\n\n## Implementation notes\n- Add new view constant (ViewHistory)\n- Create internal/tui/history.go\n- Add key binding for view switching\n- Fetch from appropriate API endpoint","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-11T22:54:42.177021-05:00","created_by":"jonandersen","updated_at":"2026-01-12T22:51:09.601203-05:00","closed_at":"2026-01-12T22:51:09.601203-05:00","close_reason":"Implemented history view with transaction list, detail panel, and navigation"}
{"id":"public-cli-sjk","title":"Update CMD layer to use shared API models and methods","description":"Refactor cmd/*.go to import and use types/methods from internal/api instead of local definitions","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-13T20:53:20.648962-05:00","created_by":"jonandersen","updated_at":"2026-01-13T20:53:20.648962-05:00","dependencies":[{"issue_id":"public-cli-sjk","depends_on_id":"public-cli-9om","type":"blocks","created_at":"2026-01-13T20:53:38.9588-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-sjk","depends_on_id":"public-cli-87e","type":"blocks","created_at":"2026-01-13T20:53:39.021376-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-sjk","depends_on_id":"public-cli-5c3","type":"blocks","created_at":"2026-01-13T20:53:39.084856-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-sjk","depends_on_id":"public-cli-cxe","type":"blocks","created_at":"2026-01-13T20:53:39.148166-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-sjk","depends_on_id":"public-cli-ojk","type":"blocks","created_at":"2026-01-13T20:53:39.21153-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-sjk","depends_on_id":"public-cli-p80","type":"blocks","created_at":"2026-01-13T20:53:39.275282-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-uoe","title":"Update TUI to use publicapi client","description":"After all API methods are implemented, update TUI components to use pkg/publicapi instead of making direct HTTP calls:\n\nFiles to update:\n- internal/tui/portfolio.go: FetchPortfolio() should use client.GetPortfolio()\n- internal/tui/watchlist.go: FetchWatchlistQuotes() should use client.GetQuotes()\n- internal/tui/orders.go: FetchOrders() should use client.ListOrders()\n- internal/tui/trade.go: FetchTradeQuote() should use client.GetQuotes()\n- internal/tui/tui.go: FetchAccounts() should use client.GetAccounts()\n\nThe TUI should receive a pre-configured publicapi.Client in its constructor, eliminating auth handling from TUI code entirely.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T22:21:27.687792-05:00","created_by":"jonandersen","updated_at":"2026-01-11T22:21:27.687792-05:00","dependencies":[{"issue_id":"public-cli-uoe","depends_on_id":"public-cli-msh","type":"blocks","created_at":"2026-01-11T22:21:50.911483-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-uoe","depends_on_id":"public-cli-cpc","type":"blocks","created_at":"2026-01-11T22:21:50.970371-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-uoe","depends_on_id":"public-cli-ygp","type":"blocks","created_at":"2026-01-11T22:21:51.031331-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-uoe","depends_on_id":"public-cli-1ac","type":"blocks","created_at":"2026-01-11T22:21:51.091201-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-uoe","depends_on_id":"public-cli-a8l","type":"blocks","created_at":"2026-01-11T22:21:51.150875-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-uoe","depends_on_id":"public-cli-884","type":"blocks","created_at":"2026-01-11T22:21:51.210611-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-v85","title":"Project Setup \u0026 Tooling","description":"Foundation epic: Set up project structure, build tooling, linting, and dependencies. Must be completed before any other work.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-10T19:57:29.736027-05:00","created_by":"jonandersen","updated_at":"2026-01-10T20:06:42.64759-05:00","closed_at":"2026-01-10T20:06:42.64759-05:00","close_reason":"All subtasks complete: directory structure, Makefile, golangci-lint, and go.mod are set up"}
{"id":"public-cli-v85.1","title":"Create project directory structure","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T19:57:37.472082-05:00","created_by":"jonandersen","updated_at":"2026-01-10T20:01:16.268848-05:00","closed_at":"2026-01-10T20:01:16.268848-05:00","close_reason":"Created cmd/ and internal/ directories with initial package files","dependencies":[{"issue_id":"public-cli-v85.1","depends_on_id":"public-cli-v85","type":"parent-child","created_at":"2026-01-10T19:57:37.475818-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-v85.2","title":"Set up Makefile with build/test/lint/fmt targets","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T19:57:37.683383-05:00","created_by":"jonandersen","updated_at":"2026-01-10T20:01:26.933002-05:00","closed_at":"2026-01-10T20:01:26.933002-05:00","close_reason":"Created Makefile with all, build, test, lint, fmt, and clean targets","dependencies":[{"issue_id":"public-cli-v85.2","depends_on_id":"public-cli-v85","type":"parent-child","created_at":"2026-01-10T19:57:37.685753-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-v85.2","depends_on_id":"public-cli-v85.1","type":"blocks","created_at":"2026-01-10T19:58:04.264828-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-v85.3","title":"Configure golangci-lint v2","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T19:57:37.882442-05:00","created_by":"jonandersen","updated_at":"2026-01-10T20:01:55.892272-05:00","closed_at":"2026-01-10T20:01:55.892272-05:00","close_reason":"Created .golangci.yml with v2 format and standard linters","dependencies":[{"issue_id":"public-cli-v85.3","depends_on_id":"public-cli-v85","type":"parent-child","created_at":"2026-01-10T19:57:37.884912-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-v85.3","depends_on_id":"public-cli-v85.1","type":"blocks","created_at":"2026-01-10T19:58:04.430199-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-v85.4","title":"Initialize go.mod with core dependencies","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T19:57:38.078007-05:00","created_by":"jonandersen","updated_at":"2026-01-10T20:05:43.6276-05:00","closed_at":"2026-01-10T20:05:43.6276-05:00","close_reason":"Added cobra, go-keyring, testify, and yaml.v3 dependencies","dependencies":[{"issue_id":"public-cli-v85.4","depends_on_id":"public-cli-v85","type":"parent-child","created_at":"2026-01-10T19:57:38.078646-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-v85.4","depends_on_id":"public-cli-v85.1","type":"blocks","created_at":"2026-01-10T19:58:04.596323-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-vb0","title":"Error with setup instructions when CLI is unconfigured","description":"When user runs any command (quote, account, order, etc.) without having configured the CLI:\n\n1. Check if secret key exists in keyring OR PUB_SECRET_KEY env var is set\n2. If not configured, error out with clear message:\n   'CLI not configured. Run: pub configure\n    Or set PUB_SECRET_KEY environment variable.'\n3. Do NOT auto-prompt - just error and exit\n\nThis keeps the UX simple and predictable:\n- Interactive users: run 'pub configure' once\n- CI/CD/scripts: set PUB_SECRET_KEY env var","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T23:37:05.109831-05:00","created_by":"jonandersen","updated_at":"2026-01-11T08:17:57.146549-05:00","closed_at":"2026-01-11T08:17:57.146549-05:00","close_reason":"Added tests for existing implementation","dependencies":[{"issue_id":"public-cli-vb0","depends_on_id":"public-cli-72e","type":"blocks","created_at":"2026-01-10T23:38:46.521372-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-vv4","title":"Authentication System","description":"Token exchange with Public.com API, token caching with TTL, auto-refresh on expiry. Uses httptest for testing.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-10T19:57:29.699319-05:00","created_by":"jonandersen","updated_at":"2026-01-10T23:18:32.238145-05:00","closed_at":"2026-01-10T23:18:32.238145-05:00","close_reason":"Closed","dependencies":[{"issue_id":"public-cli-vv4","depends_on_id":"public-cli-9pf","type":"blocks","created_at":"2026-01-10T19:58:36.800944-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-vv4","depends_on_id":"public-cli-7a1","type":"blocks","created_at":"2026-01-10T19:58:36.865469-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-vv4.1","title":"Implement token exchange logic with tests","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T19:57:34.516221-05:00","created_by":"jonandersen","updated_at":"2026-01-10T23:12:52.088385-05:00","closed_at":"2026-01-10T23:12:52.088385-05:00","close_reason":"Closed","dependencies":[{"issue_id":"public-cli-vv4.1","depends_on_id":"public-cli-vv4","type":"parent-child","created_at":"2026-01-10T19:57:34.518531-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-vv4.2","title":"Add token caching with TTL to disk","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T19:57:34.712469-05:00","created_by":"jonandersen","updated_at":"2026-01-10T23:16:14.086701-05:00","closed_at":"2026-01-10T23:16:14.086701-05:00","close_reason":"Closed","dependencies":[{"issue_id":"public-cli-vv4.2","depends_on_id":"public-cli-vv4","type":"parent-child","created_at":"2026-01-10T19:57:34.713217-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-vv4.3","title":"Implement auto-refresh on token expiry","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T19:57:34.906922-05:00","created_by":"jonandersen","updated_at":"2026-01-10T23:18:32.235849-05:00","closed_at":"2026-01-10T23:18:32.235849-05:00","close_reason":"Closed","dependencies":[{"issue_id":"public-cli-vv4.3","depends_on_id":"public-cli-vv4","type":"parent-child","created_at":"2026-01-10T19:57:34.907549-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-wsr","title":"Design Options TUI interface in ASCII mockups","description":"Research existing TUI layouts in the codebase and design ASCII mockups for:\n- Options tab with asset selector\n- Options chain view (calls/puts, strikes, expiries)\n- Greeks display\n- Reusable asset selector component\n\nMust be consistent with existing portfolio/watchlist views.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-12T19:43:18.330403-05:00","created_by":"jonandersen","updated_at":"2026-01-12T20:04:55.502751-05:00","closed_at":"2026-01-12T20:04:55.502751-05:00","close_reason":"Completed","dependencies":[{"issue_id":"public-cli-wsr","depends_on_id":"public-cli-2ix","type":"parent-child","created_at":"2026-01-12T19:43:41.151985-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-xat","title":"Add trading safety lock setting in configure","description":"Add a configuration setting that prevents trading commands from executing. This is a safety measure to ensure agents don't place orders without explicit permission. When enabled, order placement commands should fail with a clear message explaining the lock is active.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-11T12:31:59.936026-05:00","created_by":"jonandersen","updated_at":"2026-01-11T12:46:28.398731-05:00","closed_at":"2026-01-11T12:46:28.398731-05:00","close_reason":"Implemented trading safety lock with TradingEnabled config field"}
{"id":"public-cli-xnm","title":"Display equity summary in portfolio command","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T08:04:11.206278-05:00","created_by":"jonandersen","updated_at":"2026-01-11T08:10:31.190562-05:00","closed_at":"2026-01-11T08:10:31.190562-05:00","close_reason":"Implemented v2 API response parsing with nested types and equity summary display"}
{"id":"public-cli-ygp","title":"Implement Orders API methods in publicapi","description":"Implement order-related methods in pkg/publicapi/orders.go:\n\nMethods to implement:\n- PlaceOrder(ctx, accountID, req OrderRequest) (*OrderResponse, error)\n- CancelOrder(ctx, accountID, orderID) error\n- GetOrderStatus(ctx, accountID, orderID) (*OrderStatusResponse, error)\n- ListOrders(ctx, accountID) ([]OpenOrder, error)\n- Preflight(ctx, accountID, req PreflightRequest) (*PreflightResponse, error)\n\nHelper functions to include:\n- DetermineOrderType(limitPrice, stopPrice) string (from cmd/order.go:527)\n- SumFees(fees RegulatoryFees) float64 (from cmd/order.go:469)\n\nConsolidates logic from cmd/order.go and internal/tui/orders.go.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T22:21:08.389618-05:00","created_by":"jonandersen","updated_at":"2026-01-11T22:21:08.389618-05:00","dependencies":[{"issue_id":"public-cli-ygp","depends_on_id":"public-cli-llk","type":"blocks","created_at":"2026-01-11T22:21:50.205499-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-yov","title":"Reorganize codebase for API/CLI/UI separation","description":"Split the codebase into cleanly separated layers that can be extracted to separate repos later if needed:\n\n1. **pkg/publicapi/** - Standalone Go API client (importable by external projects)\n2. **cmd/** - Thin CLI layer using publicapi\n3. **ui/** - Future UI layer\n\n## Goals\n- Domain types (Account, Portfolio, Quote, etc.) live in publicapi package\n- CLI becomes a thin wrapper that calls publicapi and formats output\n- External Go projects can import and use the API client\n- Structure allows easy extraction to separate repos later\n\n## Current State\n- internal/api/ has generic HTTP client\n- cmd/ has Cobra commands + domain types + API parsing (all mixed together)\n\n## Target State\n- pkg/publicapi/ - Complete API client with all domain types and methods\n- cmd/ - Just Cobra wiring, calls publicapi, formats output\n- internal/ - CLI-specific code (auth, config, keyring, output formatting)","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-11T19:07:56.896975-05:00","created_by":"jonandersen","updated_at":"2026-01-11T19:07:56.896975-05:00","dependencies":[{"issue_id":"public-cli-yov","depends_on_id":"public-cli-p84","type":"blocks","created_at":"2026-01-11T19:08:11.501066-05:00","created_by":"jonandersen"},{"issue_id":"public-cli-yov","depends_on_id":"public-cli-79w","type":"blocks","created_at":"2026-01-11T22:23:46.173773-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-ypb","title":"TUI toolbar navigation - arrow key tab switching","description":"Add keyboard navigation to the header tab bar:\n\n**Current behavior:**\n- Number keys (1-4) switch views\n- In Trade view, must press Esc to exit text field before numbers work\n\n**Desired behavior:**\n- Press Up from top of view to select the tab bar\n- Left/Right arrows navigate between tabs in the bar\n- Down or Enter selects the highlighted tab\n- Esc from text field selects current tab in toolbar (e.g., 4 for Trade)\n- Visual indicator showing which tab is highlighted vs active\n\n**Implementation notes:**\n- Add a 'toolbarFocused' state to main Model\n- When toolbar is focused, render tabs with different highlight style\n- Handle arrow keys for tab navigation\n- This may require bubbletea focus management or a custom approach\n\n**Depends on:**\n- TUI trade screen (public-cli-ha5.5) - completed","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-11T19:21:49.635906-05:00","created_by":"jonandersen","updated_at":"2026-01-11T19:21:49.635906-05:00","dependencies":[{"issue_id":"public-cli-ypb","depends_on_id":"public-cli-ha5","type":"blocks","created_at":"2026-01-11T19:21:53.813394-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-zwf","title":"Options Command","description":"Options trading: view expirations, options chains, and greeks. Specialized feature for options traders.\n\n**API Reference:** See API.md - Market Data \u0026 Options sections\n- POST /userapigateway/marketdata/{accountId}/option-expirations\n- POST /userapigateway/marketdata/{accountId}/option-chain\n- GET /userapigateway/option-details/{accountId}/greeks","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-10T19:57:58.13865-05:00","created_by":"jonandersen","updated_at":"2026-01-11T19:14:27.907371-05:00","closed_at":"2026-01-11T19:14:27.907371-05:00","close_reason":"All child tasks complete: expirations, chain, greeks, multileg preflight, multileg order","dependencies":[{"issue_id":"public-cli-zwf","depends_on_id":"public-cli-dc9","type":"blocks","created_at":"2026-01-10T19:58:37.375803-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-zwf.1","title":"Implement 'pub options expirations'","description":"List available option expiration dates for an underlying.\n\n**API Reference:** See API.md - Get Option Expirations section\n- Endpoint: POST /userapigateway/marketdata/{accountId}/option-expirations\n- Request: instrument with symbol and type (EQUITY or UNDERLYING_SECURITY_FOR_INDEX_OPTION)\n- Response: baseSymbol and expirations array (YYYY-MM-DD dates)\n\n**Implementation:**\n- pub options expirations AAPL\n- Display list of available expiration dates\n- Support --json output flag","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T19:58:01.993913-05:00","created_by":"jonandersen","updated_at":"2026-01-11T16:54:13.636468-05:00","closed_at":"2026-01-11T16:54:13.636468-05:00","close_reason":"Closed","dependencies":[{"issue_id":"public-cli-zwf.1","depends_on_id":"public-cli-zwf","type":"parent-child","created_at":"2026-01-10T19:58:01.996616-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-zwf.2","title":"Implement 'pub options chain'","description":"Display option chain for a symbol and expiration date.\n\n**API Reference:** See API.md - Get Option Chain section\n- Endpoint: POST /userapigateway/marketdata/{accountId}/option-chain\n- Request: instrument and expirationDate\n- Response: baseSymbol, calls array, puts array (each with quotes)\n\n**Implementation:**\n- pub options chain AAPL --expiration 2025-01-17\n- Display calls and puts with strike, bid, ask, volume, open interest\n- Support --json output flag","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T19:58:02.078524-05:00","created_by":"jonandersen","updated_at":"2026-01-11T17:05:16.305483-05:00","closed_at":"2026-01-11T17:05:16.305483-05:00","close_reason":"Closed","dependencies":[{"issue_id":"public-cli-zwf.2","depends_on_id":"public-cli-zwf","type":"parent-child","created_at":"2026-01-10T19:58:02.079165-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-zwf.3","title":"Implement 'pub options greeks' command","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T17:13:27.681661-05:00","created_by":"jonandersen","updated_at":"2026-01-11T18:06:43.600226-05:00","closed_at":"2026-01-11T18:06:43.600226-05:00","close_reason":"Closed","dependencies":[{"issue_id":"public-cli-zwf.3","depends_on_id":"public-cli-zwf","type":"parent-child","created_at":"2026-01-11T17:13:27.682352-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-zwf.4","title":"Implement 'pub options multileg' preflight command","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T17:13:27.869366-05:00","created_by":"jonandersen","updated_at":"2026-01-11T19:00:47.210521-05:00","closed_at":"2026-01-11T19:00:47.210521-05:00","close_reason":"Closed","dependencies":[{"issue_id":"public-cli-zwf.4","depends_on_id":"public-cli-zwf","type":"parent-child","created_at":"2026-01-11T17:13:27.870054-05:00","created_by":"jonandersen"}]}
{"id":"public-cli-zwf.5","title":"Implement 'pub options multileg' place order command","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T17:13:28.061708-05:00","created_by":"jonandersen","updated_at":"2026-01-11T19:13:11.701891-05:00","closed_at":"2026-01-11T19:13:11.701891-05:00","close_reason":"Implemented multileg order command with preflight, confirmation, and tests","dependencies":[{"issue_id":"public-cli-zwf.5","depends_on_id":"public-cli-zwf","type":"parent-child","created_at":"2026-01-11T17:13:28.062495-05:00","created_by":"jonandersen"}]}
